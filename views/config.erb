<?xml version="1.0" encoding="UTF-8"?>
<cartridge_basiclti_link xmlns="http://www.imsglobal.org/xsd/imslticc_v1p0"
    xmlns:blti = "http://www.imsglobal.org/xsd/imsbasiclti_v1p0"
    xmlns:lticm ="http://www.imsglobal.org/xsd/imslticm_v1p0"
    xmlns:lticp ="http://www.imsglobal.org/xsd/imslticp_v1p0"
    xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation = "http://www.imsglobal.org/xsd/imslticc_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticc_v1p0.xsd
    http://www.imsglobal.org/xsd/imsbasiclti_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imsbasiclti_v1p0.xsd
    http://www.imsglobal.org/xsd/imslticm_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticm_v1p0.xsd
    http://www.imsglobal.org/xsd/imslticp_v1p0 http://www.imsglobal.org/xsd/lti/ltiv1p0/imslticp_v1p0.xsd">
    <blti:title><%= title%></blti:title>
    <blti:description><%= description %></blti:description>
    <blti:icon></blti:icon>
    <blti:launch_url>https://<%= host %>/lti</blti:launch_url>
    <% if defined? custom %>
      <blti:custom>
        <% custom.each do |key,value| %>
          <lticm:property name="<%= key %>"><%= value %></lticm:property>
        <% end %>
      </blti:custom>
    <% end %>
    <blti:extensions platform="canvas.instructure.com">
      <lticm:property name="privacy_level">public</lticm:property>
      <lticm:property name="domain"><%= host %></lticm:property>
      <% if defined? button %>
        <lticm:options name="editor_button">
          <lticm:property name="url">https://<%= host %>/<%= button[:path] %></lticm:property>
          <lticm:property name="icon_url">https://<%= host %>/images/<%= button[:icon] %></lticm:property>
          <lticm:property name="text"><%= button[:title] %></lticm:property>
          <lticm:property name="visibility">public</lticm:property>
          <lticm:property name="enabled">true</lticm:property>
        </lticm:options>
      <% end %>
      <% if defined? menu %>
        <lticm:options name="course_navigation">
          <lticm:property name="url">https://<%= host %>/<%= menu[:path] %></lticm:property>
          <lticm:property name="text"><%= menu[:title] %></lticm:property>
          <lticm:property name="visibility">public</lticm:property>
          <lticm:property name="default">enabled</lticm:property>
          <lticm:property name="enabled">true</lticm:property>
          <% if defined? open_in_new_window %>
            <lticm:property name="windowTarget">_blank</lticm:property>
          <% end %>
        </lticm:options>
      <% end %>
    </blti:extensions>
    <cartridge_bundle identifierref="BLTI001_Bundle"/>
    <cartridge_icon identifierref="BLTI001_Icon"/>
</cartridge_basiclti_link>  
