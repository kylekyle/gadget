!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports=jQuery},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var s=e[i];"."===s?e.splice(i,1):".."===s?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",s=!1,a=arguments.length-1;a>=-1&&!s;a--){var r=a>=0?arguments[a]:e.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,s="/"===r.charAt(0))}return(s?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!s).join("/"))||"."},t.normalize=function(e){var a=t.isAbsolute(e),r="/"===s(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&r&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var s=i(e.split("/")),a=i(n.split("/")),r=Math.min(s.length,a.length),o=r,c=0;c<r;c++)if(s[c]!==a[c]){o=c;break}var l=[];for(c=o;c<s.length;c++)l.push("..");return(l=l.concat(a.slice(o))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,s=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!s){i=a;break}}else s=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,i=-1,s=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!s){n=t+1;break}}else-1===i&&(s=!1,i=t+1);return-1===i?"":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,i=-1,s=!0,a=0,r=e.length-1;r>=0;--r){var o=e.charCodeAt(r);if(47!==o)-1===i&&(s=!1,i=r+1),46===o?-1===t?t=r:1!==a&&(a=1):-1!==t&&(a=-1);else if(!s){n=r+1;break}}return-1===t||-1===i||0===a||1===a&&t===i-1&&t===n+1?"":e.slice(t,i)};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(2))},function(e,t){var n,i,s=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(e){i=r}}();var c,l=[],d=!1,u=-1;function p(){d&&c&&(d=!1,c.length?l=c.concat(l):u=-1,l.length&&f())}function f(){if(!d){var e=o(p);d=!0;for(var t=l.length;t;){for(c=l,l=[];++u<t;)c&&c[u].run();u=-1,t=l.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||d||o(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),a=n(1),r=n.n(a),o=(e,t,n)=>i=>{var s=i.responseText||i;e(`could not find "${n}" in "${t}": ${s}`)},c=(e,t,n)=>{var i=r.a.dirname(t),a=r.a.basename(t);return new Promise((n,r)=>{var c=o(r,e,t);s.a.getJSON(`/api/v1/${e}/folders/by_path/${i}`).fail(c).done(t=>{var i=t[t.length-1].id;s.a.getJSON(`/api/v1/${e}/files`,{"only[]":"names",search_term:a}).fail(c).done(e=>{var t=e.find(e=>e.folder_id==i);t?s.a.getJSON(`/api/v1/files/${t.id}/public_url`).fail(c).done(e=>{s.a.get(e.public_url).fail(c).done(n)}):c("search returned empty array")})})})},l=(e,t,n)=>{var i=`/api/v1/${e}/files`,a={name:r.a.basename(t),content_type:"text/plain",on_duplicate:"overwrite",parent_folder_path:r.a.dirname(t)};return new Promise((r,c)=>{var l=o(c,e,t);s.a.post(i,a).fail(l).done(e=>{var t=new FormData;for(var i in e.upload_params)t.append(i,e.upload_params[i]);t.append("file",new Blob([n],{type:"text/plain"})),s.a.ajax({type:"POST",data:t,failure:l,processData:!1,contentType:!1,url:e.upload_url,success:r})})})};class d{constructor(e,{iframes:t=!1}={}){this.target=e,this.iframes=t,this.mutationMonitors=[],this.mutations=new MutationObserver(e=>{e.forEach(e=>{for(const[t,n]of this.mutationMonitors.entries())for(let t of n.nodes(e))if(t.matches&&t.matches(n.selector)&&0==n.callback(t,e)){this.removeMutationMonitor(n);break}})}),this.intersectMonitors=[],this.intersections=new IntersectionObserver(e=>{e.forEach(e=>{for(const[t,n]of this.intersectMonitors.entries())for(let t of n.nodes)if(e.target==t&&n.entryTest(e)&&0==n.callback(t,e)){this.removeIntersectMonitor(n);break}})})}accessible(e){try{return Boolean(e.contentDocument)}catch(e){return console.log(e),!1}}loaded(e,t){if(this.accessible(e)){var n=e.src||"about:blank",i=e.contentWindow.location.href;if("complete"===e.contentDocument.readyState&&n==i)t(e.contentDocument);else{var s=()=>{this.accessible(e)&&t(e.contentDocument),e.removeEventListener("load",s)};e.addEventListener("load",s)}}}addMutationMonitor(e){return this.mutationMonitors.push(e),1==this.mutationMonitors.length&&(this.iframes&&this.added("iframe",e=>this.loaded(e,e=>this.mutations.observe(e,{subtree:!0,childList:!0}))),this.mutations.observe(this.target,{subtree:!0,childList:!0})),{cancel:()=>this.removeMutationMonitor(e)}}removeMutationMonitor(e){const t=this.mutationMonitors.indexOf(e);t>-1&&this.mutationMonitors.splice(t,1),0==this.mutationMonitors.length&&this.mutations.disconnect()}added(e,t){const n=[this.target];if(this.iframes)for(let e of this.target.querySelectorAll("iframe"))this.accessible(e)&&n.push(e.contentDocument);for(let i of n)for(let n of i.querySelectorAll(e))if(!1===t(n,null))return{cancel:()=>{}};return this.addMutationMonitor({selector:e,callback:t,nodes:e=>e.addedNodes})}removed(e,t){return this.addMutationMonitor({selector:e,callback:t,nodes:e=>e.removedNodes})}addIntersectMonitor(e){return this.intersectMonitors.push(e),{cancel:()=>this.removeIntersectMonitor(e)}}removeIntersectMonitor(e){const t=this.intersectMonitors.indexOf(e);t>-1&&(e.mutationMonitor.cancel(),this.intersectMonitors.splice(t,1),e.nodes.forEach(e=>{this.intersectMonitors.every(t=>{t.nodes.indexOf(e)})&&this.intersections.unobserve(e)}))}intersect(e,t,n){const i=[],s=this.added(e,e=>{i.push(e),this.intersections.observe(e)});return this.addIntersectMonitor({nodes:i,selector:e,callback:t,mutationMonitor:s,entryTest:n})}appeared(e,t){return this.intersect(e,t,e=>e.isIntersecting)}disappeared(e,t){return this.intersect(e,t,e=>!e.isIntersecting)}cancel(){this.mutations.disconnect(),this.intersections.disconnect(),this.mutationMonitors.splice(0,this.mutationMonitors.length),this.intersectMonitors.splice(0,this.intersectMonitors.length)}}var u=(...e)=>new d(...e);u(document).added("#content",e=>(console.log("loading gadget support"),(e=>{const t=u(e);t.added(".question_holder select.question_type",e=>{const t=$(e).closest(".question").find(".question_content"),n=$("<option value='essay_question'>Gadget Question</option>");null!=t.val().match("<div[^<]+gadget[^<]+>")&&n.attr("selected",!0),$(e).append(n).change(()=>{"Gadget Question"==$(e).find("option:selected").text()&&c(ENV.CONTEXT_URL_ROOT,"quiz.gadget",e=>{tinymce.get(t.attr("id")).rceWrapper.insert_code(e)})})}),t.added(".mce-tinymce",e=>{const t=$("<div>",{role:"button",class:"mce-widget mce-btn"}).append($("<button>",{role:"presentation",type:"button"}).append($("<i>").addClass("mce-ico mce-i-none").css("background-image","url('https://i.imgur.com/V88UPuK.png')")));t.click(()=>{const t="student.gadget",n=ENV.current_user_roles;$(e).closest(".question").length?t="quiz.gadget":(n.includes("teacher")||n.includes("admin"))&&(t="teacher.gadget"),c(ENV.CONTEXT_URL_ROOT,t,e=>{tinymce.get(id).rceWrapper.insert_code(e)})}),$(e).find(".mce-btn:has(.mce-i-rtl)").remove(),$(e).find(".mce-btn:has(.mce-i-ltr)").replaceWith(t)})})(e),((e,t)=>{const n=u(e,{iframes:!0}),i=new ResizeObserver(e=>{e.forEach(e=>{const t=e.target;if(t.config&&t.config.iframeElement){const n=s()(t).offset();s()(t.config.iframeElement).css({"z-index":10,top:n.top,left:n.left,width:e.contentRect.width,height:e.contentRect.height})}})});console.log("renderer loaded"),n.appeared("div.gadget",e=>{if(console.log(e),e.config)s()(e.config.iframeElement).show(),s()(e.config.iframeElement).css({"z-index":10});else{e.config={};const n=s()("<iframe>",{frameborder:0,marginwidth:0,marginheight:0,class:"gadget",allowfullscreen:!0});s()(e).children().hide(),s()(e).css({height:350,width:"100%",margin:0}).show();const a=s()(e).offset();n.css({"z-index":10,top:a.top,left:a.left,position:"absolute"});const r=n[0];r.gadget=e,e.config.iframeElement=r,t(e,()=>{e.ownerDocument.documentElement.appendChild(r),i.observe(e),r.contentDocument.open("text/htmlreplace"),r.contentDocument.write('<!DOCTYPE html>\n<html lang="en" class="no-js">\n<head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    \n    \x3c!-- TODO: Fix this --\x3e \n    <base href="https://gadget.compute.army/" />\n\n    <link rel="stylesheet" type="text/css" href="css/embed.css">\n    <link rel="stylesheet" type="text/css" href="libs/highlight.js/8.0/styles/github.min.css">\n    <link rel="stylesheet" type="text/css" href="libs/font-awesome/4.7.0/css/font-awesome.min.css">\n\n    <script src=\'libs/jszip/3.1.4/dist/jszip.min.js\'><\/script>\n    <script src=\'libs/jsdiff/1.0.8/diff.js\'><\/script>\n    <script src="libs/modernizr/2.8.2/modernizr.min.js" type="text/javascript"><\/script>\n    <script src="libs/detectizr/dist/detectizr.min.js" type="text/javascript"><\/script>\n    <script src="libs/crypto-js/3.1.2/rollups/md5.js" type="text/javascript"><\/script>\n    <script type="text/javascript" src="libs/diff_match_patch/20121119/diff_match_patch.js"><\/script>\n</head>\n\n<body id="embed_content_python" data-no-metrics="false" data-assignment="false" data-view-only="false" class="mode-standard remixable" data-is-mobile="false">\n    <div id="wrapper" class="off-canvas-wrap owner-view row" data-offcanvas>\n        <div class="gadget-wrapper inner-wrap">\n            <nav id="menu" class="gadget-header " data-interface="top-menu">\n                <section class="mode-toolbar left" data-mode="interact" role="menubar">\n                    <div class="icon-bar label-right">\n                        <a class="edit-it menu-button item allow-original show-for-small-only" data-action="code.edit" title="Edit the code.">\n                            <i class="fa fa-pencil"></i>\n                            <label class="show-for-large-up">Code</label>\n                        </a>\n                      \n                        <a class="button run-it menu-button item split allow-original" data-action="code.run" title="View the result." role="button" aria-label="Run Button" tabindex="0">\n                            <i class="fa fa-play"></i>\n                            <label class="show-for-large-up">Run</label>\n                            <span data-dropdown="run-options" data-options="align:bottom" role="menu"></span>\n                        </a>\n\n                        <a class="check-it menu-button item allow-original hide" data-action="code.check" title="Check your code." tabindex="0">\n                            <i class="fa fa-check-circle"></i>\n                            <label class="show-for-large-up">Check</label>\n                        </a>\n\n                        <a class="button fullscreen-it menu-button item allow-original" data-action="mode.fullscreen" role="button" aria-label="Fullscreen" tabindex="0">\n                            <i class="fa fa-expand"></i>\n                            <label class="show-for-large-up">Fullscreen</label>\n                        </a>\n\n                        <a class="button reset-it menu-button item allow-original hide" data-action="code.reset" role="button" aria-label="Reset" tabindex="0">\n                            <i class="fa fa-refresh"></i>\n                            <label class="show-for-large-up">Reset</label>\n                        </a>\n\n                        <a class=\'menu-button font-size item allow-original\' data-action="code.fontsize" onclick="var swap=$(this).data(\'data\'); $(this).data(\'data\',$(this).data(\'last\')); $(this).data(\'last\',swap)" data-last="2em" data-data="1em">\n                          aA\n                          <label class="show-for-large-up">Font</label>\n                        </a>\n                    </div>\n                </section>\n                <section class="mode-indicator right">\n                  <div class="icon-bar">\n                    <div class="item"><div id="draftMessage" class="hide draft-message"></div></div>\n                    \x3c!-- user, has remix, viewing remix --\x3e\n                    <a title="Save changes" class="save-it menu-button allow-original item blue-highlight disabled hide" data-action="menu.upgrade">\n                      <i class="fa fa-save"></i>\n                      <label class="show-for-medium-up">Saved</label>\n                    </a>\n\n                  </div>\n                </section>\n            </nav>\n\n            <section class="gadget-content main-section" data-interface="content">\n                <div id="flashMessage" class="container hide">\n                    <div id="flashContent"></div>\n                </div>\n                <div class="gadget-content-wrapper " role="main">\n                    <div id="content-overlay" class="hide" data-interface="overlay"></div>\n                    \x3c!-- autorun: code / result / check --\x3e\n                    <input id="start-value" type=\'hidden\' value=\'code\' />\n                    \x3c!-- console / result --\x3e\n                    <input id="runMode-value" type=\'hidden\' value=\'\' />\n                    <input id="runOption-value" type=\'hidden\' value=\'run\' />\n                  \n                    <div id="modules" class="hide" data-interface="overlay">\n                        <a class="menu-button closer" data-action="code.modules" data-data="close"><i class="fa fa-times-circle-o"></i></a>\n                    </div>\n                  \n                    <div id="editor" class="code-editor hide" data-interface="editor"></div>\n\n                    <div id="dragbar"></div>\n\n                    <div id="codeOutput" class="codeOutput hide" data-interface="output">\n\n                        \x3c!-- when hiding instructions: hideInstructions --\x3e\n                        <div id="outputTabs" class="">\n                            <div class="active menu-button" id="codeOutputTab" data-action="output.view">Result</div>\n                            <div class="menu-button" id="instructionsTab" data-action="instructions.view"><i class="fa fa-list"></i> Instructions</div>\n                        </div>\n                        \n                        \x3c!-- when hiding instructions: withoutTabs --\x3e\n                        <div id="outputContainer" class="withTabs">\n                            <div id="graphic-wrap" class="hide">\n                                <div id="graphic" aria-label="Visual Output" role="application" tabindex="0"></div>\n                            </div>\n\n                            <div id="output-dragbar" class="hide" data-action="resize"></div>\n\n                            <div id="console-wrap" class="hide">\n                                <div id="console-output" aria-live="assertive" aria-label="Code Output"></div>\n                                <a id="reset-output" title="clear output"><i class="fa fa-ban"></i></a>\n                            </div>\n\n                            <div id="unittest-wrap" class="hide">\n                                <div id="unittest-output">\n                                    <div class="row grey collapse">\n                                        <div class="small-12 column">\n                                            <p class="text-center overview" id="test-totals"></p>\n                                        </div>\n                                    </div>\n                                    <ul class="accordion" id="unittest-accordion" data-accordion>\n                                    </ul>\n                                </div>\n                            </div>\n\n                        </div>\n\n                        <div id="instructionsContainer" class="hide">\n                            <div id="instructionsActions" class="">\n                                <a id="edit-instructions-link"><i class="fa fa-pencil hide" title="Edit"></i></a>\n                            </div>\n                            <div id="instructionsToolbar" class="hide">\n                                <a class="right" id="save-instructions"><i class="fa fa-save" title="Save"></i></a>\n                                <a id="cancel-edit-instructions"><i class="fa fa-times" title="Cancel"></i></a>\n                            </div>\n\n                            <div id="instructionsOutput"></div>\n                        </div>\n\n                    </div>\n\n                </div>\n            </section>\n\n        </div>\n    </div>\n  \n    <script id="statusMessageTemplate" type="text/html">\n        <div id="statusMessages" aria-live="assertive" role="alert" tabindex=0 data-inteface="alert" data-alert class="alert-box {{type}}">\n            <div>{{message}}</div>\n            <a href="b7b06252f4.html#" title="Close message" class="close" aria-label="Close Alert" role="button"><i class="fa fa-times-circle"></i></a>\n        </div>\n    <\/script>\n    <div id="content-overlay" class="hide"></div>\n\n    \x3c!-- the response-indicator divs allow javascript to determine which responsive size is being applied --\x3e\n    <div class="responsive-indicator show-for-small-only" data-size="small"></div>\n    <div class="responsive-indicator show-for-medium-only" data-size="medium"></div>\n    <div class="responsive-indicator show-for-large-up" data-size="large"></div>\n\n    <div id="confirmResetModal" class="reveal-modal medium" data-reveal data-css-top="35">\n        <div class="row">\n            <h2 id="modalTitle">Are you sure?</h2>\n            <p class="lead">Resetting will undo all of your changes since this gadget was initially loaded.</p>\n            <a class="button caution menu-button allow-original" data-action="code.cancel-reset">Cancel</a>\n            <a class="button danger menu-button allow-original" data-action="code.confirm-reset">Yes, I am sure.</a>\n            <a class="close-reveal-modal" aria-label="Close">&#215;</a>\n        </div>\n    </div>\n\n    <div id="badBrowser" class="reveal-modal medium" data-reveal data-css-top="35">\n        <div class="row">\n            <h2 id="modalTitle">Stop!</h2>\n            <p class="lead">Internet Explorer is not supported. Try Firefox, Chrome, or Edge. </p>\n            <a class="close-reveal-modal" aria-label="Close">&#215;</a>\n        </div>\n    </div>\n\n    <ul id="run-options" class="f-dropdown" data-dropdown-content>\n        <li><a class="menu-button" data-action="code.run" data-button="run"><i class="fa fa-play"></i>Run</a></li>\n        <li><a class="menu-button" data-action="code.console" data-button="console"><i class="fa fa-terminal"></i>Console</a></li>\n        <li><a class="menu-button" data-action="code.debug"><i class="fa fa-bug"></i>Debug</a></li>\n    </ul>\n\n    <script id="unittest-error" type="text/template">\n        <li class="accordion-navigation">\n            <a href="b7b06252f4.html#panel-{{testNumber}}">\n                <div class="really-wrong">\n                    <div class="col-md-10">\n                        <p><i class="fa fa-angle-right fa-lg open-close-indicator"></i>{{shortDescription}}</p>\n                    </div>\n                    <div class="col-md-2">\n                        <p class="text-center"><i class="fa fa-circle-o fa-lg"></i></p>\n                    </div>\n                </div>\n            </a>\n            <div id="panel-{{testNumber}}" class="content">\n                <p>\n                    <strong>Message:</strong> <pre>{{reason}}</pre>\n                </p>\n            </div>\n        </li>\n    <\/script>\n\n    <script id="unittest-fail" type="text/template">\n        <li class="accordion-navigation">\n            <a href="b7b06252f4.html#panel-{{testNumber}}">\n                <div class="really-wrong">\n                    <div class="col-md-2">\n                        <p><i class="fa fa-circle-o fa-lg"></i></p>\n                    </div>\n                    <div class="col-md-9 column">\n                        <p>{{shortDescription}}</p>\n                    </div>\n                </div>\n            </a>\n            <div id="panel-{{testNumber}}" class="content">\n                <p>\n                    {{description}} \n                    {{reason}}\n                </p>\n            </div>\n        </li>\n    <\/script>\n\n    <script id="unittest-pass" type="text/template">\n        <li class="accordion-navigation">\n            <div class="really-right">\n              <div class="md-2">\n                <p><i class="fa fa-check-circle fa-lg"></i></p>\n              </div>\n              <div class="md-10 column">\n                <p>{{shortDescription}}</p>\n              </div>\n            </div>\n        </li>\n    <\/script>\n\n    <script id="draftTextTemplate" type="text/html">\n        <a class="menu-button" data-action="code.reset" title="Reset"><i class="fa fa-refresh"></i></a> {{draftText}}\n    <\/script>\n\n    <script id="addInstructionsTemplate" type="text/html">\n        <p>Click the pencil icon to add instructions to your gadget. When anyone else views this gadget, they\'ll also be able to view them.</p>\n    <\/script>\n\n    <script id="editInstructionsTemplate" type="text/html">\n        <div id="embedded-instructions"></div>\n    <\/script>\n\n    \x3c!--[if IE]>\n    <script src="/cache-prefix-1528245195812dist/jszip-utils-ie.min.js" type="text/javascript"><\/script>\n    <![endif]--\x3e\n  \n    <script src=\'libs/file-saver.js/1.20150507.2/FileSaver.js\'><\/script>\n    <script src=\'libs/lodash/2.4.1/dist/lodash.min.js\'><\/script>\n    <script src=\'libs/bluebird/3.5.1/js/browser/bluebird.min.js\'><\/script>\n    <script src="libs/moment.js/2.18.1/moment.min.js" type="text/javascript"><\/script>\n    <script src=\'libs/ace-builds/v1.2.6.1rc2/src-min-noconflict/ace.js\'><\/script>\n    <script src=\'libs/ace-builds/v1.2.6.1rc2/src-min-noconflict/ext-modelist.js\'><\/script>\n    <script src=\'libs/ace-builds/v1.2.6.1rc2/src-min-noconflict/ext-language_tools.js\'><\/script>\n    <script type="text/javascript" src="libs/skulpt/skulpt.min.js"><\/script>\n    <script type="text/javascript" src="libs/skulpt/skulpt-stdlib.js"><\/script>\n    <script src="libs/marked/lib/marked.js"><\/script>\n    <script src="libs/traqball.js/src/traqball.js"><\/script>\n    <script src="libs/jquery/3.3.1/jquery.min.js"><\/script>\n    <script src="libs/jqueryui/1.12.1/jquery-ui.min.js"><\/script>\n    <script src="libs/highlight.js/8.0/highlight.min.js"><\/script>\n    <script src="js/markdown.js"><\/script>\n    <script src="js/gadget.js" type="text/javascript"><\/script>\n    <script src="js/configure.js" type="text/javascript"><\/script>\n</body>\n</html>\n'),r.contentDocument.close()})}}),n.removed("div.gadget",e=>{e.config&&(s()(e.config.iframeElement).remove(),e.config=null)}),n.disappeared("div.gadget",e=>{e.config&&s()(e.config.iframeElement).hide()})})(e,(e,t)=>{if(e.classList.contains("personal"))if(console.log("rendering personal gadget"),e.id){e.config.admin=!0;const n="/users/"+ENV.current_user.id,i=`gadgets/${e.id}.gadget`;e.config.save=e=>{console.log("saving personal gadget ...");const t=e.toElement().innerHTML;return l(n,i,t)},c(n,i).then(t=>e.innerHTML=t,console.log).finally(t)}else console.log("can't render a personal gadget without an id!");else if(e.matches("body#tinymce .gadget"))console.log("rendering gadget within tinymce editor"),e.config.admin=!0,e.config.show="code",e.config.edit=t=>{e.innerHTML=t.toElement().innerHTML},t();else if(e.matches("#questions.assessing .gadget")){console.log("rendering gadget within a quiz"),e.config.show="instructions";const n=s()(e).closest(".question");n.find(".answers").hide();const i=n.find(".question_input");if(e.config.edit=e=>{tinymce.get(i.attr("id")).setContent(e.toHTML()),tinymce.triggerSave()},i.val()){const t=s()(i.val()).get(0);e.innerHTML=t.innerHTML}t()}else if(e.matches("#questions.assessment_results .gadget")){console.log("rendering gadget in a quiz submission"),e.config.show="tests";const n=ENV.current_user_roles;n.includes("teacher")||n.includes("admin")?e.config.show_tabs=!0:e.config.readonly=!0,s()(e).closest(".question").find(".question_text").hide(),t()}else e.matches("#questions.question_editing .gadget")?(console.log("rendering gadget in the quiz editor"),e.config.show="instructions",e.config.readonly=!0,t()):e.matches("#ic-QuizInspector__QuestionInspector .gadget")?(console.log("rendering gadget in the activity stream"),e.config.show="tests",s()("button:contains('View HTML')").click()):t()}),!1))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwialF1ZXJ5XCIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BhdGgtYnJvd3NlcmlmeS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9maWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9uaXRvcmluZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luc2VydC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhZGdldC5odG1sIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwialF1ZXJ5Iiwibm9ybWFsaXplQXJyYXkiLCJwYXJ0cyIsImFsbG93QWJvdmVSb290IiwidXAiLCJsZW5ndGgiLCJsYXN0Iiwic3BsaWNlIiwidW5zaGlmdCIsImZpbHRlciIsInhzIiwiZiIsInJlcyIsInB1c2giLCJyZXNvbHZlIiwicmVzb2x2ZWRQYXRoIiwicmVzb2x2ZWRBYnNvbHV0ZSIsImFyZ3VtZW50cyIsInBhdGgiLCJwcm9jZXNzIiwiY3dkIiwiVHlwZUVycm9yIiwiY2hhckF0Iiwic3BsaXQiLCJqb2luIiwibm9ybWFsaXplIiwiaXNBYnNvbHV0ZSIsInRyYWlsaW5nU2xhc2giLCJzdWJzdHIiLCJwYXRocyIsIkFycmF5Iiwic2xpY2UiLCJpbmRleCIsInJlbGF0aXZlIiwiZnJvbSIsInRvIiwidHJpbSIsImFyciIsInN0YXJ0IiwiZW5kIiwiZnJvbVBhcnRzIiwidG9QYXJ0cyIsIk1hdGgiLCJtaW4iLCJzYW1lUGFydHNMZW5ndGgiLCJvdXRwdXRQYXJ0cyIsImNvbmNhdCIsInNlcCIsImRlbGltaXRlciIsImRpcm5hbWUiLCJjb2RlIiwiY2hhckNvZGVBdCIsImhhc1Jvb3QiLCJtYXRjaGVkU2xhc2giLCJiYXNlbmFtZSIsImV4dCIsImV4dG5hbWUiLCJzdGFydERvdCIsInN0YXJ0UGFydCIsInByZURvdFN0YXRlIiwic3RyIiwibGVuIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJFcnJvciIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImUiLCJ0aGlzIiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsImFyZ3MiLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImZhaWx1cmVfbWVzc2FnZSIsImNhbGxiYWNrIiwiY29udGV4dCIsImZpbGVfcGF0aCIsImVycm9yIiwibWVzc2FnZSIsInJlc3BvbnNlVGV4dCIsImZpbGVuYW1lIiwiUHJvbWlzZSIsInJlamVjdCIsImZhaWwiLCJnZXRKU09OIiwiZG9uZSIsImZvbGRlcnMiLCJmb2xkZXJfaWQiLCJpZCIsInNlYXJjaF90ZXJtIiwiZmlsZXMiLCJmaWxlIiwiZmluZCIsInB1YmxpY191cmwiLCJkYXRhIiwidXJsIiwicGFyYW1zIiwiY29udGVudF90eXBlIiwib25fZHVwbGljYXRlIiwicGFyZW50X2ZvbGRlcl9wYXRoIiwicG9zdCIsInRva2VuIiwiZm9ybSIsIkZvcm1EYXRhIiwicGFyYW0iLCJ1cGxvYWRfcGFyYW1zIiwiYXBwZW5kIiwiQmxvYiIsInR5cGUiLCJhamF4IiwiZmFpbHVyZSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJ1cGxvYWRfdXJsIiwic3VjY2VzcyIsIk1vbml0b3IiLCJ0YXJnZXQiLCJpZnJhbWVzIiwibXV0YXRpb25Nb25pdG9ycyIsIm11dGF0aW9ucyIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImVudHJ5IiwibW9uaXRvciIsIm5vZGUiLCJub2RlcyIsIm1hdGNoZXMiLCJzZWxlY3RvciIsInJlbW92ZU11dGF0aW9uTW9uaXRvciIsImludGVyc2VjdE1vbml0b3JzIiwiaW50ZXJzZWN0aW9ucyIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cnlUZXN0IiwicmVtb3ZlSW50ZXJzZWN0TW9uaXRvciIsImlmcmFtZSIsIkJvb2xlYW4iLCJjb250ZW50RG9jdW1lbnQiLCJjb25zb2xlIiwibG9nIiwiYWNjZXNzaWJsZSIsInNyYyIsImxvY2F0aW9uIiwiY29udGVudFdpbmRvdyIsImhyZWYiLCJyZWFkeVN0YXRlIiwibG9hZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkZWQiLCJsb2FkZWQiLCJkb2MiLCJvYnNlcnZlIiwic3VidHJlZSIsImNoaWxkTGlzdCIsImNhbmNlbCIsImluZGV4T2YiLCJkaXNjb25uZWN0IiwidGFyZ2V0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRNdXRhdGlvbk1vbml0b3IiLCJhZGRlZE5vZGVzIiwicmVtb3ZlZE5vZGVzIiwibXV0YXRpb25Nb25pdG9yIiwiZXZlcnkiLCJvdGhlck1vbml0b3IiLCJ1bm9ic2VydmUiLCJhZGRJbnRlcnNlY3RNb25pdG9yIiwiaW50ZXJzZWN0IiwiaXNJbnRlcnNlY3RpbmciLCJtb25pdG9yaW5nIiwiZG9jdW1lbnQiLCJjb250ZW50Iiwic2VsZWN0IiwiJCIsImNsb3Nlc3QiLCJvcHRpb24iLCJ2YWwiLCJtYXRjaCIsImF0dHIiLCJjaGFuZ2UiLCJ0ZXh0IiwiRU5WIiwiQ09OVEVYVF9VUkxfUk9PVCIsImdhZGdldCIsInRpbnltY2UiLCJyY2VXcmFwcGVyIiwiaW5zZXJ0X2NvZGUiLCJlZGl0b3IiLCJidXR0b24iLCJyb2xlIiwiY2xhc3MiLCJhZGRDbGFzcyIsImNzcyIsImNsaWNrIiwidGVtcGxhdGUiLCJyb2xlcyIsImN1cnJlbnRfdXNlcl9yb2xlcyIsImluY2x1ZGVzIiwicmVtb3ZlIiwicmVwbGFjZVdpdGgiLCJpbnNlcnQiLCJyZXNpemVPYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyIiwiY29uZmlnIiwiaWZyYW1lRWxlbWVudCIsIm9mZnNldHMiLCJvZmZzZXQiLCJ0b3AiLCJsZWZ0Iiwid2lkdGgiLCJjb250ZW50UmVjdCIsImhlaWdodCIsImFwcGVhcmVkIiwic2hvdyIsImZyYW1lYm9yZGVyIiwibWFyZ2lud2lkdGgiLCJtYXJnaW5oZWlnaHQiLCJhbGxvd2Z1bGxzY3JlZW4iLCJjaGlsZHJlbiIsImhpZGUiLCJtYXJnaW4iLCJwb3NpdGlvbiIsImNvbmZpZ3VyZSIsIm93bmVyRG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsIm9wZW4iLCJ3cml0ZSIsImNsb3NlIiwicmVtb3ZlZCIsImRpc2FwcGVhcmVkIiwicmVuZGVyZXIiLCJyZW5kZXIiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImFkbWluIiwidXNlckNvbnRleHQiLCJjdXJyZW50X3VzZXIiLCJzYXZlIiwiYXBwIiwidG9FbGVtZW50IiwiaW5uZXJIVE1MIiwidGhlbiIsImh0bWwiLCJmaW5hbGx5IiwiZWRpdCIsInF1ZXN0aW9uIiwiaW5wdXQiLCJzZXRDb250ZW50IiwidG9IVE1MIiwidHJpZ2dlclNhdmUiLCJkcmFmdCIsInNob3dfdGFicyIsInJlYWRvbmx5Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVB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QUFPb0IsT0FBT1UsS0FBTyxlQUNyQjlCLEVBQU9vQixPQUFPa0QsVUFBVyxFQUN6QnJCLEtBRVNqRCxFQUFPekQsUUFBUSxpREFDeEJXLFFBQVFDLElBQUksMkNBRVo2QyxFQUFPb0IsT0FBT1UsS0FBTyxRQUNyQixJQUFFLGdDQUFnQ3BCLFNBS2xDdUMsT0FLRyIsImZpbGUiOiJnYWRnZXQuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBqUXVlcnk7IiwiLy8gLmRpcm5hbWUsIC5iYXNlbmFtZSwgYW5kIC5leHRuYW1lIG1ldGhvZHMgYXJlIGV4dHJhY3RlZCBmcm9tIE5vZGUuanMgdjguMTEuMSxcbi8vIGJhY2twb3J0ZWQgYW5kIHRyYW5zcGxpdGVkIHdpdGggQmFiZWwsIHdpdGggYmFja3dhcmRzLWNvbXBhdCBmaXhlc1xuXG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlc29sdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLFxuICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuXG4gIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG4gICAgdmFyIHBhdGggPSAoaSA+PSAwKSA/IGFyZ3VtZW50c1tpXSA6IHByb2Nlc3MuY3dkKCk7XG5cbiAgICAvLyBTa2lwIGVtcHR5IGFuZCBpbnZhbGlkIGVudHJpZXNcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncycpO1xuICAgIH0gZWxzZSBpZiAoIXBhdGgpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7XG4gICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckF0KDApID09PSAnLyc7XG4gIH1cblxuICAvLyBBdCB0aGlzIHBvaW50IHRoZSBwYXRoIHNob3VsZCBiZSByZXNvbHZlZCB0byBhIGZ1bGwgYWJzb2x1dGUgcGF0aCwgYnV0XG4gIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuXG4gIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocmVzb2x2ZWRQYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIXJlc29sdmVkQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICByZXR1cm4gKChyZXNvbHZlZEFic29sdXRlID8gJy8nIDogJycpICsgcmVzb2x2ZWRQYXRoKSB8fCAnLic7XG59O1xuXG4vLyBwYXRoLm5vcm1hbGl6ZShwYXRoKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5ub3JtYWxpemUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBpc0Fic29sdXRlID0gZXhwb3J0cy5pc0Fic29sdXRlKHBhdGgpLFxuICAgICAgdHJhaWxpbmdTbGFzaCA9IHN1YnN0cihwYXRoLCAtMSkgPT09ICcvJztcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihwYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gISFwO1xuICB9KSwgIWlzQWJzb2x1dGUpLmpvaW4oJy8nKTtcblxuICBpZiAoIXBhdGggJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBwYXRoID0gJy4nO1xuICB9XG4gIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcbiAgICBwYXRoICs9ICcvJztcbiAgfVxuXG4gIHJldHVybiAoaXNBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7XG59O1xuXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5qb2luID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gIHJldHVybiBleHBvcnRzLm5vcm1hbGl6ZShmaWx0ZXIocGF0aHMsIGZ1bmN0aW9uKHAsIGluZGV4KSB7XG4gICAgaWYgKHR5cGVvZiBwICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH0pLmpvaW4oJy8nKSk7XG59O1xuXG5cbi8vIHBhdGgucmVsYXRpdmUoZnJvbSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnRzLnJlbGF0aXZlID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgZnJvbSA9IGV4cG9ydHMucmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG4gIHRvID0gZXhwb3J0cy5yZXNvbHZlKHRvKS5zdWJzdHIoMSk7XG5cbiAgZnVuY3Rpb24gdHJpbShhcnIpIHtcbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIGZvciAoOyBzdGFydCA8IGFyci5sZW5ndGg7IHN0YXJ0KyspIHtcbiAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGVuZCA9IGFyci5sZW5ndGggLSAxO1xuICAgIGZvciAoOyBlbmQgPj0gMDsgZW5kLS0pIHtcbiAgICAgIGlmIChhcnJbZW5kXSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFtdO1xuICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7XG4gIH1cblxuICB2YXIgZnJvbVBhcnRzID0gdHJpbShmcm9tLnNwbGl0KCcvJykpO1xuICB2YXIgdG9QYXJ0cyA9IHRyaW0odG8uc3BsaXQoJy8nKSk7XG5cbiAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTtcbiAgdmFyIHNhbWVQYXJ0c0xlbmd0aCA9IGxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChmcm9tUGFydHNbaV0gIT09IHRvUGFydHNbaV0pIHtcbiAgICAgIHNhbWVQYXJ0c0xlbmd0aCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgb3V0cHV0UGFydHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IHNhbWVQYXJ0c0xlbmd0aDsgaSA8IGZyb21QYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIG91dHB1dFBhcnRzLnB1c2goJy4uJyk7XG4gIH1cblxuICBvdXRwdXRQYXJ0cyA9IG91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpO1xuXG4gIHJldHVybiBvdXRwdXRQYXJ0cy5qb2luKCcvJyk7XG59O1xuXG5leHBvcnRzLnNlcCA9ICcvJztcbmV4cG9ydHMuZGVsaW1pdGVyID0gJzonO1xuXG5leHBvcnRzLmRpcm5hbWUgPSBmdW5jdGlvbiAocGF0aCkge1xuICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSBwYXRoID0gcGF0aCArICcnO1xuICBpZiAocGF0aC5sZW5ndGggPT09IDApIHJldHVybiAnLic7XG4gIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KDApO1xuICB2YXIgaGFzUm9vdCA9IGNvZGUgPT09IDQ3IC8qLyovO1xuICB2YXIgZW5kID0gLTE7XG4gIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICBmb3IgKHZhciBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDE7IC0taSkge1xuICAgIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgZW5kID0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yXG4gICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAoZW5kID09PSAtMSkgcmV0dXJuIGhhc1Jvb3QgPyAnLycgOiAnLic7XG4gIGlmIChoYXNSb290ICYmIGVuZCA9PT0gMSkge1xuICAgIC8vIHJldHVybiAnLy8nO1xuICAgIC8vIEJhY2t3YXJkcy1jb21wYXQgZml4OlxuICAgIHJldHVybiAnLyc7XG4gIH1cbiAgcmV0dXJuIHBhdGguc2xpY2UoMCwgZW5kKTtcbn07XG5cbmZ1bmN0aW9uIGJhc2VuYW1lKHBhdGgpIHtcbiAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykgcGF0aCA9IHBhdGggKyAnJztcblxuICB2YXIgc3RhcnQgPSAwO1xuICB2YXIgZW5kID0gLTE7XG4gIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICB2YXIgaTtcblxuICBmb3IgKGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgaWYgKHBhdGguY2hhckNvZGVBdChpKSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAvLyBwYXRoIGNvbXBvbmVudFxuICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICBlbmQgPSBpICsgMTtcbiAgICB9XG4gIH1cblxuICBpZiAoZW5kID09PSAtMSkgcmV0dXJuICcnO1xuICByZXR1cm4gcGF0aC5zbGljZShzdGFydCwgZW5kKTtcbn1cblxuLy8gVXNlcyBhIG1peGVkIGFwcHJvYWNoIGZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSwgYXMgZXh0IGJlaGF2aW9yIGNoYW5nZWRcbi8vIGluIG5ldyBOb2RlLmpzIHZlcnNpb25zLCBzbyBvbmx5IGJhc2VuYW1lKCkgYWJvdmUgaXMgYmFja3BvcnRlZCBoZXJlXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24gKHBhdGgsIGV4dCkge1xuICB2YXIgZiA9IGJhc2VuYW1lKHBhdGgpO1xuICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkge1xuICAgIGYgPSBmLnN1YnN0cigwLCBmLmxlbmd0aCAtIGV4dC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBmO1xufTtcblxuZXhwb3J0cy5leHRuYW1lID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykgcGF0aCA9IHBhdGggKyAnJztcbiAgdmFyIHN0YXJ0RG90ID0gLTE7XG4gIHZhciBzdGFydFBhcnQgPSAwO1xuICB2YXIgZW5kID0gLTE7XG4gIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgY2hhcmFjdGVycyAoaWYgYW55KSB3ZSBzZWUgYmVmb3JlIG91ciBmaXJzdCBkb3QgYW5kXG4gIC8vIGFmdGVyIGFueSBwYXRoIHNlcGFyYXRvciB3ZSBmaW5kXG4gIHZhciBwcmVEb3RTdGF0ZSA9IDA7XG4gIGZvciAodmFyIGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgdmFyIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xuICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAvLyBleHRlbnNpb25cbiAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgZW5kID0gaSArIDE7XG4gICAgfVxuICAgIGlmIChjb2RlID09PSA0NiAvKi4qLykge1xuICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgaWYgKHN0YXJ0RG90ID09PSAtMSlcbiAgICAgICAgICBzdGFydERvdCA9IGk7XG4gICAgICAgIGVsc2UgaWYgKHByZURvdFN0YXRlICE9PSAxKVxuICAgICAgICAgIHByZURvdFN0YXRlID0gMTtcbiAgICB9IGVsc2UgaWYgKHN0YXJ0RG90ICE9PSAtMSkge1xuICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgIC8vIGhhdmUgYSBnb29kIGNoYW5jZSBhdCBoYXZpbmcgYSBub24tZW1wdHkgZXh0ZW5zaW9uXG4gICAgICBwcmVEb3RTdGF0ZSA9IC0xO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzdGFydERvdCA9PT0gLTEgfHwgZW5kID09PSAtMSB8fFxuICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBjaGFyYWN0ZXIgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBkb3RcbiAgICAgIHByZURvdFN0YXRlID09PSAwIHx8XG4gICAgICAvLyBUaGUgKHJpZ2h0LW1vc3QpIHRyaW1tZWQgcGF0aCBjb21wb25lbnQgaXMgZXhhY3RseSAnLi4nXG4gICAgICBwcmVEb3RTdGF0ZSA9PT0gMSAmJiBzdGFydERvdCA9PT0gZW5kIC0gMSAmJiBzdGFydERvdCA9PT0gc3RhcnRQYXJ0ICsgMSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICByZXR1cm4gcGF0aC5zbGljZShzdGFydERvdCwgZW5kKTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbnZhciBmYWlsdXJlX21lc3NhZ2UgPSAoY2FsbGJhY2ssIGNvbnRleHQsIGZpbGVfcGF0aCkgPT4gZXJyb3IgPT4ge1xuICB2YXIgbWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlVGV4dCB8fCBlcnJvcjtcbiAgY2FsbGJhY2soYGNvdWxkIG5vdCBmaW5kIFwiJHtmaWxlX3BhdGh9XCIgaW4gXCIke2NvbnRleHR9XCI6ICR7bWVzc2FnZX1gKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvLyBOT1RFOiBnZXQgZG9lcyBub3QgcGFnaW5hdGUsIHNvIGlmIHRoZXJlIGFyZSBhIGxvdCBvZiBmaWxlc1xuICAvLyB3aXRoIHRoZSBzYW1lIGJhc2VuYW1lLCBpdCB3aWxsIG9ubHkgcmV0dXJuIHRoZSBmaWxlIGlmIFxuICAvLyBpdCBpcyBpbiB0aGUgZmlyc3QgMTAgcmVzdWx0c1xuICAvL1xuICAvLyBBTFNPIE5PVEU6IElmIHRoZSBmaWxlIGlzIG5vdCBmb3VuZCwgYSB3YXJuaW5nIGlzIHByb2R1Y2VkIFxuICAvLyBvbiB0aGUgY29uc29sZSBhbmQgdGhlIGNhbGxiYWNrIGlzIG5ldmVyIGNhbGxlZCwgYnV0IG5vIFxuICAvLyBlcnJvciBpcyB0aHJvd25cbiAgZ2V0OiAoY29udGV4dCwgZmlsZV9wYXRoLCBjYWxsYmFjaykgPT4ge1xuICAgIHZhciBkaXJuYW1lID0gcGF0aC5kaXJuYW1lKGZpbGVfcGF0aCk7XG4gICAgdmFyIGZpbGVuYW1lID0gcGF0aC5iYXNlbmFtZShmaWxlX3BhdGgpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHZhciBmYWlsID0gZmFpbHVyZV9tZXNzYWdlKHJlamVjdCwgY29udGV4dCwgZmlsZV9wYXRoKTtcbiAgICAgIFxuICAgICAgLy8gZ2V0IHRoZSBmb2xkZXIgZm9yIHRoaXMgZmlsZSdzIHBhcmVudFxuICAgICAgdmFyIGZvbGRlciA9ICQuZ2V0SlNPTihgL2FwaS92MS8ke2NvbnRleHR9L2ZvbGRlcnMvYnlfcGF0aC8ke2Rpcm5hbWV9YCk7XG5cbiAgICAgIGZvbGRlci5mYWlsKGZhaWwpLmRvbmUoZm9sZGVycyA9PiB7XG4gICAgICAgIC8vIGJ5X3BhdGggYWx3YXlzIHJldHVybnMgYWxsIGZvbGRlcnMgaW4gdGhlIHBhdGggXG4gICAgICAgIC8vIGVuZGluZyB3aXRoIHRoZSB0YXJnZXRcbiAgICAgICAgdmFyIGZvbGRlcl9pZCA9IGZvbGRlcnNbZm9sZGVycy5sZW5ndGgtMV0uaWQ7XG5cbiAgICAgICAgdmFyIGZpbGVfbGlzdGluZyA9ICQuZ2V0SlNPTihgL2FwaS92MS8ke2NvbnRleHR9L2ZpbGVzYCwgeyBcbiAgICAgICAgICAnb25seVtdJzogJ25hbWVzJywgXG4gICAgICAgICAgc2VhcmNoX3Rlcm06IGZpbGVuYW1lIFxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgZmlsZV9saXN0aW5nLmZhaWwoZmFpbCkuZG9uZShmaWxlcyA9PiB7XG4gICAgICAgICAgdmFyIGZpbGUgPSBmaWxlcy5maW5kKGZpbGUgPT4gZmlsZS5mb2xkZXJfaWQgPT0gZm9sZGVyX2lkKTtcblxuICAgICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgICB2YXIgcHVibGljX3VybF9yZXF1ZXN0ID0gJC5nZXRKU09OKGAvYXBpL3YxL2ZpbGVzLyR7ZmlsZS5pZH0vcHVibGljX3VybGApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwdWJsaWNfdXJsX3JlcXVlc3QuZmFpbChmYWlsKS5kb25lKHB1YmxpY191cmwgPT4ge1xuICAgICAgICAgICAgICAkLmdldChwdWJsaWNfdXJsWydwdWJsaWNfdXJsJ10pLmZhaWwoZmFpbCkuZG9uZShyZXNvbHZlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWlsKCdzZWFyY2ggcmV0dXJuZWQgZW1wdHkgYXJyYXknKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfSxcblxuICAvLyBDYW52YXMgaGFzIGFuIGludm9sdmVkIHVwbG9hZCB3b3JrZmxvdzogXG4gIC8vIGh0dHBzOi8vY2FudmFzLmluc3RydWN0dXJlLmNvbS9kb2MvYXBpL2ZpbGUuZmlsZV91cGxvYWRzLmh0bWxcbiAgcHV0OiAoY29udGV4dCwgZmlsZV9wYXRoLCBkYXRhKSA9PiB7XG4gICAgdmFyIHVybCA9IGAvYXBpL3YxLyR7Y29udGV4dH0vZmlsZXNgO1xuXG4gICAgdmFyIHBhcmFtcyA9IHsgXG4gICAgICBuYW1lOiBwYXRoLmJhc2VuYW1lKGZpbGVfcGF0aCksIFxuICAgICAgY29udGVudF90eXBlOiAndGV4dC9wbGFpbicsXG4gICAgICBvbl9kdXBsaWNhdGU6ICdvdmVyd3JpdGUnLFxuICAgICAgcGFyZW50X2ZvbGRlcl9wYXRoOiBwYXRoLmRpcm5hbWUoZmlsZV9wYXRoKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB2YXIgZmFpbCA9IGZhaWx1cmVfbWVzc2FnZShyZWplY3QsIGNvbnRleHQsIGZpbGVfcGF0aCk7ICAgIFxuXG4gICAgICAkLnBvc3QodXJsLCBwYXJhbXMpLmZhaWwoZmFpbCkuZG9uZSh0b2tlbiA9PiB7XG4gICAgICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgICAgZm9yICh2YXIgcGFyYW0gaW4gdG9rZW4udXBsb2FkX3BhcmFtcykge1xuICAgICAgICAgIGZvcm0uYXBwZW5kKHBhcmFtLCB0b2tlbi51cGxvYWRfcGFyYW1zW3BhcmFtXSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtLmFwcGVuZChcImZpbGVcIiwgbmV3IEJsb2IoW2RhdGFdLCB7dHlwZTogXCJ0ZXh0L3BsYWluXCJ9KSk7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgZGF0YTogZm9ybSxcbiAgICAgICAgICBmYWlsdXJlOiBmYWlsLFxuICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXG4gICAgICAgICAgdXJsOiB0b2tlbi51cGxvYWRfdXJsLFxuICAgICAgICAgIHN1Y2Nlc3M6IHJlc29sdmVcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSIsImNsYXNzIE1vbml0b3Ige1xuICBjb25zdHJ1Y3Rvcih0YXJnZXQsIHtpZnJhbWVzPWZhbHNlfT17fSkge1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHRoaXMuaWZyYW1lcyA9IGlmcmFtZXM7XG5cbiAgICB0aGlzLm11dGF0aW9uTW9uaXRvcnMgPSBbXTtcblxuICAgIHRoaXMubXV0YXRpb25zID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgbW9uaXRvcl0gb2YgdGhpcy5tdXRhdGlvbk1vbml0b3JzLmVudHJpZXMoKSkge1xuICAgICAgICAgIGZvciAobGV0IG5vZGUgb2YgbW9uaXRvci5ub2RlcyhlbnRyeSkpIHtcbiAgICAgICAgICAgIGlmIChub2RlLm1hdGNoZXMgJiYgbm9kZS5tYXRjaGVzKG1vbml0b3Iuc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgIGlmIChtb25pdG9yLmNhbGxiYWNrKG5vZGUsIGVudHJ5KSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTXV0YXRpb25Nb25pdG9yKG1vbml0b3IpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuaW50ZXJzZWN0TW9uaXRvcnMgPSBbXTtcblxuICAgIHRoaXMuaW50ZXJzZWN0aW9ucyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBtb25pdG9yXSBvZiB0aGlzLmludGVyc2VjdE1vbml0b3JzLmVudHJpZXMoKSkge1xuICAgICAgICAgIGZvciAobGV0IG5vZGUgb2YgbW9uaXRvci5ub2Rlcykge1xuICAgICAgICAgICAgaWYgKGVudHJ5LnRhcmdldCA9PSBub2RlICYmIG1vbml0b3IuZW50cnlUZXN0KGVudHJ5KSkge1xuICAgICAgICAgICAgICBpZiAobW9uaXRvci5jYWxsYmFjayhub2RlLCBlbnRyeSkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUludGVyc2VjdE1vbml0b3IobW9uaXRvcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gcmV0dXJucyB0cnVlIGlmIHdlIGNhbiBhY2Nlc3MgdGhpcyBpZnJhbWVcbiAgLy8gaHR0cHM6Ly9iaXQubHkvaWZyYW1lLWxvYWRlZFxuICBhY2Nlc3NpYmxlKGlmcmFtZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihpZnJhbWUuY29udGVudERvY3VtZW50KTtcbiAgICB9XG4gICAgY2F0Y2goZSkge1xuICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gaWZyYW1lJ3MgYXJlIGluaXRpYWxseSBsb2FkZWQgd2l0aCBhIGR1bW15IGRvY3VtZW50LCBzbyB5b3UgaGF2ZSBcbiAgLy8gdG8gd2FpdCB1bnRpbCB0aGVpciByZWFsIGRvY3VtZW50IGhhcyBsb2FkZWQgdG8gaG9vayB0aGVtXG4gIC8vIGh0dHBzOi8vYml0Lmx5L2lmcmFtZS1sb2FkZWRcbiAgbG9hZGVkKGlmcmFtZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5hY2Nlc3NpYmxlKGlmcmFtZSkpIHtcbiAgICAgIHZhciBzcmMgPSBpZnJhbWUuc3JjIHx8IFwiYWJvdXQ6YmxhbmtcIjtcbiAgICAgIHZhciBsb2NhdGlvbiA9IGlmcmFtZS5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICB2YXIgcmVhZHkgPSBpZnJhbWUuY29udGVudERvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIjtcblxuICAgICAgaWYgKHJlYWR5ICYmIHNyYyA9PSBsb2NhdGlvbikge1xuICAgICAgICBjYWxsYmFjayhpZnJhbWUuY29udGVudERvY3VtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBsb2FkID0gKCkgPT4geyAgXG4gICAgICAgICAgaWYgKHRoaXMuYWNjZXNzaWJsZShpZnJhbWUpKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhpZnJhbWUuY29udGVudERvY3VtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWZyYW1lLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBsb2FkKTtcbiAgICAgICAgfVxuICAgICAgICBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGxvYWQpICAgIFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFkZE11dGF0aW9uTW9uaXRvcihtb25pdG9yKSB7XG4gICAgdGhpcy5tdXRhdGlvbk1vbml0b3JzLnB1c2gobW9uaXRvcik7XG5cbiAgICAvLyB3ZSBqdXN0IGFkZGVkIHRoZSBmaXJzdCBtb25pdG9yLCBzbyBzdGFydCBvYnNlcnZpbmdcbiAgICBpZiAodGhpcy5tdXRhdGlvbk1vbml0b3JzLmxlbmd0aCA9PSAxKSB7XG4gICAgICBpZiAodGhpcy5pZnJhbWVzKSB7XG4gICAgICAgIHRoaXMuYWRkZWQoJ2lmcmFtZScsIGlmcmFtZSA9PlxuICAgICAgICAgIHRoaXMubG9hZGVkKGlmcmFtZSwgZG9jID0+IFxuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbnMub2JzZXJ2ZShkb2MsIHsgc3VidHJlZTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlIH0pXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aGlzLm11dGF0aW9ucy5vYnNlcnZlKHRoaXMudGFyZ2V0LCB7IHN1YnRyZWU6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSB9KTtcbiAgICB9IFxuXG4gICAgcmV0dXJuIHsgY2FuY2VsOiAoKSA9PiB0aGlzLnJlbW92ZU11dGF0aW9uTW9uaXRvcihtb25pdG9yKSB9XG4gIH1cblxuICByZW1vdmVNdXRhdGlvbk1vbml0b3IobW9uaXRvcikge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5tdXRhdGlvbk1vbml0b3JzLmluZGV4T2YobW9uaXRvcik7XG5cbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5tdXRhdGlvbk1vbml0b3JzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubXV0YXRpb25Nb25pdG9ycy5sZW5ndGggPT0gMCkge1xuICAgICAgdGhpcy5tdXRhdGlvbnMuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgfVxuXG4gIGFkZGVkKHNlbGVjdG9yLCBjYWxsYmFjaykge1xuICAgIC8vIGNoZWNrIHRoZSB0YXJnZXQgZm9yIHByZS1leGlzdGluZyBub2RlcyBtYXRjaGluZyB0aGlzIHNlbGVjdG9yXG4gICAgY29uc3QgdGFyZ2V0cyA9IFt0aGlzLnRhcmdldF07XG5cbiAgICAvLyBjaGVjayBpZnJhbWVzIHdpdGhpbiB0aGlzIHRhcmdldCBmb3IgcHJlLWV4aXN0aW5nIGNvbnRlbnQgXG4gICAgLy8gbWF0Y2hpbmcgdGhpcyBzZWxlY3Rvci4gTm90ZSB0aGF0IHRoaXMgbWVhbnMgd2Ugd2lsbCByZWN1cnNlXG4gICAgLy8gaW50byBpZnJhbWVzIHdoZW4gY3JlYXRpbmcgTW9uaXRvcnMgd2l0aCBpZnJhbWVzPXRydWUgXG4gICAgaWYgKHRoaXMuaWZyYW1lcykge1xuICAgICAgZm9yIChsZXQgaWZyYW1lIG9mIHRoaXMudGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lmcmFtZScpKSB7XG4gICAgICAgIGlmICh0aGlzLmFjY2Vzc2libGUoaWZyYW1lKSkge1xuICAgICAgICAgIHRhcmdldHMucHVzaChpZnJhbWUuY29udGVudERvY3VtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IHRhcmdldCBvZiB0YXJnZXRzKSB7XG4gICAgICBmb3IgKGxldCBub2RlIG9mIHRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkge1xuICAgICAgICBpZiAoY2FsbGJhY2sobm9kZSwgbnVsbCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIHsgY2FuY2VsOiAoKSA9PiB7fSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuYWRkTXV0YXRpb25Nb25pdG9yKHtcbiAgICAgIHNlbGVjdG9yOiBzZWxlY3RvcixcbiAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgIG5vZGVzOiBlbnRyeSA9PiBlbnRyeS5hZGRlZE5vZGVzXG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVkKHNlbGVjdG9yLCBjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmFkZE11dGF0aW9uTW9uaXRvcih7XG4gICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBub2RlczogZW50cnkgPT4gZW50cnkucmVtb3ZlZE5vZGVzXG4gICAgfSk7XG4gIH1cblxuICBhZGRJbnRlcnNlY3RNb25pdG9yKG1vbml0b3IpIHtcbiAgICB0aGlzLmludGVyc2VjdE1vbml0b3JzLnB1c2gobW9uaXRvcik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY2FuY2VsOiAoKSA9PiB0aGlzLnJlbW92ZUludGVyc2VjdE1vbml0b3IobW9uaXRvcilcbiAgICB9O1xuICB9XG5cbiAgcmVtb3ZlSW50ZXJzZWN0TW9uaXRvcihtb25pdG9yKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmludGVyc2VjdE1vbml0b3JzLmluZGV4T2YobW9uaXRvcik7XG5cbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgbW9uaXRvci5tdXRhdGlvbk1vbml0b3IuY2FuY2VsKCk7XG4gICAgICB0aGlzLmludGVyc2VjdE1vbml0b3JzLnNwbGljZShpbmRleCwgMSk7XG4gICAgXG4gICAgICBtb25pdG9yLm5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgIGNvbnN0IGNhblJlbW92ZSA9IHRoaXMuaW50ZXJzZWN0TW9uaXRvcnMuZXZlcnkob3RoZXJNb25pdG9yID0+IHtcbiAgICAgICAgICBvdGhlck1vbml0b3Iubm9kZXMuaW5kZXhPZihub2RlKSA9PT0gLTE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChjYW5SZW1vdmUpIHtcbiAgICAgICAgICB0aGlzLmludGVyc2VjdGlvbnMudW5vYnNlcnZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpbnRlcnNlY3Qoc2VsZWN0b3IsIGNhbGxiYWNrLCBlbnRyeVRlc3QpIHtcbiAgICBjb25zdCBub2RlcyA9IFtdO1xuXG4gICAgY29uc3QgbXV0YXRpb25Nb25pdG9yID0gdGhpcy5hZGRlZChzZWxlY3Rvciwgbm9kZSA9PiB7XG4gICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgdGhpcy5pbnRlcnNlY3Rpb25zLm9ic2VydmUobm9kZSk7XG4gICAgfSlcblxuICAgIHJldHVybiB0aGlzLmFkZEludGVyc2VjdE1vbml0b3Ioe1xuICAgICAgbm9kZXM6IG5vZGVzLFxuICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgbXV0YXRpb25Nb25pdG9yOiBtdXRhdGlvbk1vbml0b3IsXG4gICAgICBlbnRyeVRlc3Q6IGVudHJ5VGVzdFxuICAgIH0pO1xuICB9XG5cbiAgYXBwZWFyZWQoc2VsZWN0b3IsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0KHNlbGVjdG9yLCBjYWxsYmFjaywgZW50cnkgPT4gZW50cnkuaXNJbnRlcnNlY3RpbmcpO1xuICB9XG5cbiAgZGlzYXBwZWFyZWQoc2VsZWN0b3IsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0KHNlbGVjdG9yLCBjYWxsYmFjaywgZW50cnkgPT4gIWVudHJ5LmlzSW50ZXJzZWN0aW5nKTtcbiAgfVxuXG4gIGNhbmNlbCgpIHsgXG4gICAgdGhpcy5tdXRhdGlvbnMuZGlzY29ubmVjdCgpO1xuICAgIHRoaXMuaW50ZXJzZWN0aW9ucy5kaXNjb25uZWN0KCk7XG5cbiAgICB0aGlzLm11dGF0aW9uTW9uaXRvcnMuc3BsaWNlKDAsIHRoaXMubXV0YXRpb25Nb25pdG9ycy5sZW5ndGgpO1xuICAgIHRoaXMuaW50ZXJzZWN0TW9uaXRvcnMuc3BsaWNlKDAsIHRoaXMuaW50ZXJzZWN0TW9uaXRvcnMubGVuZ3RoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCAoLi4ucGFyYW1zKSA9PiBuZXcgTW9uaXRvciguLi5wYXJhbXMpOyIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgZmlsZXMgZnJvbSAnLi9maWxlcyc7XG5pbXBvcnQgcmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgbW9uaXRvcmluZyBmcm9tICcuL21vbml0b3JpbmcnO1xuaW1wb3J0IGluc2VydF9nYWRnZXRfbW9kcyBmcm9tICcuL2luc2VydCc7XG5cbi8vIGl0J3MgZXhwZW5zaXZlIHRvIHdhdGNoIGZvciBET00gY2hhbmdlcywgc28gbGltaXQgdGhlIFxuLy8gZWxlbWVudHMgd2UgbW9uaXRvciB0byB0aGUgZ3JlYXRlc3QgZXh0ZW50IHBvc3NpYmxlXG5tb25pdG9yaW5nKGRvY3VtZW50KS5hZGRlZCgnI2NvbnRlbnQnLCBjb250ZW50ID0+IHtcbiAgY29uc29sZS5sb2coXCJsb2FkaW5nIGdhZGdldCBzdXBwb3J0XCIpO1xuXG4gIC8vIGFkZCB0aGUgXCJHYWRnZXQgUXVlc3Rpb25cIiBxdWVzdGlvbiB0eXBlIGFuZCB0aGUgXCJJbnNlcnQgR2FkZ2V0XCIgZWRpdG9yIGJ1dHRvblxuICBpbnNlcnRfZ2FkZ2V0X21vZHMoY29udGVudCk7XG5cbiAgLy8gdGhlIHJlbmRlcmVyIHlpZWxkcyBnYWRnZXRzIGhlcmUgZm9yIGNvbmZpZ3VyYXRpb24gYmVmb3JlIFxuICAvLyBjYWxsIHJlbmRlcigpIHdoZW4gdGhlIGdhZGdldCBpcyByZWFkeSB0byByZW5kZXJcbiAgcmVuZGVyZXIoY29udGVudCwgKGdhZGdldCwgcmVuZGVyKSA9PiB7XG5cbiAgICBpZiAoZ2FkZ2V0LmNsYXNzTGlzdC5jb250YWlucygncGVyc29uYWwnKSkge1xuICAgICAgY29uc29sZS5sb2coXCJyZW5kZXJpbmcgcGVyc29uYWwgZ2FkZ2V0XCIpO1xuXG4gICAgICBpZiAoIWdhZGdldC5pZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNhbid0IHJlbmRlciBhIHBlcnNvbmFsIGdhZGdldCB3aXRob3V0IGFuIGlkIVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFxuICAgICAgICBnYWRnZXQuY29uZmlnLmFkbWluID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgdXNlckNvbnRleHQgPSBgL3VzZXJzLyR7RU5WLmN1cnJlbnRfdXNlci5pZH1gO1xuICAgICAgICBjb25zdCBwYXRoID0gYGdhZGdldHMvJHtnYWRnZXQuaWR9LmdhZGdldGA7XG5cbiAgICAgICAgZ2FkZ2V0LmNvbmZpZy5zYXZlID0gYXBwID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnc2F2aW5nIHBlcnNvbmFsIGdhZGdldCAuLi4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyB3ZSBvbmx5IHNhdmUgdGhlIGlubmVySFRNTCBvZiBwZXJzb25hbCBnYWRnZXRzXG4gICAgICAgICAgY29uc3QgZGF0YSA9IGFwcC50b0VsZW1lbnQoKS5pbm5lckhUTUw7XG5cbiAgICAgICAgICAvLyBtdXN0IHJldHVybiBhIHByb21pc2UsIHNvIHRoZSBjb25maWd1cmUgc2NyaXB0IFxuICAgICAgICAgIC8vIHNvIGl0IGNhbiB1cGRhdGUgaW50ZXJmYWNlIGVsZW1lbnRzIGFjY29yZGluZ2x5XG4gICAgICAgICAgcmV0dXJuIGZpbGVzLnB1dCh1c2VyQ29udGV4dCwgcGF0aCwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBmaWxlcy5nZXQodXNlckNvbnRleHQsIHBhdGgpXG4gICAgICAgICAgLnRoZW4oaHRtbCA9PiBnYWRnZXQuaW5uZXJIVE1MID0gaHRtbCwgY29uc29sZS5sb2cpXG4gICAgICAgICAgLmZpbmFsbHkocmVuZGVyKTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAoZ2FkZ2V0Lm1hdGNoZXMoJ2JvZHkjdGlueW1jZSAuZ2FkZ2V0JykpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwicmVuZGVyaW5nIGdhZGdldCB3aXRoaW4gdGlueW1jZSBlZGl0b3JcIik7XG5cbiAgICAgIGdhZGdldC5jb25maWcuYWRtaW4gPSB0cnVlO1xuICAgICAgZ2FkZ2V0LmNvbmZpZy5zaG93ID0gJ2NvZGUnO1xuXG4gICAgICBnYWRnZXQuY29uZmlnLmVkaXQgPSBhcHAgPT4ge1xuICAgICAgICBnYWRnZXQuaW5uZXJIVE1MID0gYXBwLnRvRWxlbWVudCgpLmlubmVySFRNTDtcbiAgICAgIH07XG5cbiAgICAgIHJlbmRlcigpO1xuICAgIFxuICAgIH0gZWxzZSBpZiAoZ2FkZ2V0Lm1hdGNoZXMoJyNxdWVzdGlvbnMuYXNzZXNzaW5nIC5nYWRnZXQnKSkge1xuICAgICAgY29uc29sZS5sb2coXCJyZW5kZXJpbmcgZ2FkZ2V0IHdpdGhpbiBhIHF1aXpcIik7XG5cbiAgICAgIGdhZGdldC5jb25maWcuc2hvdyA9ICdpbnN0cnVjdGlvbnMnO1xuICAgICAgY29uc3QgcXVlc3Rpb24gPSAkKGdhZGdldCkuY2xvc2VzdCgnLnF1ZXN0aW9uJyk7IFxuXG4gICAgICAvLyB0aGVyZSBhcmUgdHdvIGdhZGdldHMsIG9uZSBmb3IgdGhlIGFuc3dlciBvbmUgZm9yIHRoZSBxdWVzdGlvblxuICAgICAgLy8gd2UnbGwgc2F2ZSB0aGVpciBjaGFuZ2VzIHRvIHRoZSBhbnN3ZXIgdGV4dGFyZWEsIHRoZXkgXG4gICAgICAvLyBkb24ndCBuZWVkIHRvIGFjY2VzcyBpdCBkaXJlY3RseVxuICAgICAgcXVlc3Rpb24uZmluZCgnLmFuc3dlcnMnKS5oaWRlKCk7XG4gICAgICBjb25zdCBpbnB1dCA9IHF1ZXN0aW9uLmZpbmQoJy5xdWVzdGlvbl9pbnB1dCcpO1xuXG4gICAgICBnYWRnZXQuY29uZmlnLmVkaXQgPSBhcHAgPT4ge1xuICAgICAgICAvLyBmaW5kIHRoZSB0aW55bWNlIGVkaXRvciBmb3IgdGhpcyBxdWVzaXRvblxuICAgICAgICBjb25zdCBlZGl0b3IgPSB0aW55bWNlLmdldChpbnB1dC5hdHRyKCdpZCcpKVxuICAgICAgICBcbiAgICAgICAgLy8gc2VuZCB0aGUgZ2FkZ2V0IGNvZGUgdG8gdGhlIGVkaXRvciBhbmQgdGVsbCBpdCB0byBzYXZlXG4gICAgICAgIGVkaXRvci5zZXRDb250ZW50KGFwcC50b0hUTUwoKSk7XG4gICAgICAgIHRpbnltY2UudHJpZ2dlclNhdmUoKTtcbiAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgLy8gdGhleSBhcmUgY29udGludWluZyB0aGlzIHF1ZXN0aW9uIGZyb20gYSBkcmFmdFxuICAgICAgaWYgKGlucHV0LnZhbCgpKSB7XG4gICAgICAgIGNvbnN0IGRyYWZ0ID0gJChpbnB1dC52YWwoKSkuZ2V0KDApO1xuICAgICAgICBnYWRnZXQuaW5uZXJIVE1MID0gZHJhZnQuaW5uZXJIVE1MO1xuICAgICAgfVxuXG4gICAgICByZW5kZXIoKTtcblxuICAgIH0gZWxzZSBpZiAoZ2FkZ2V0Lm1hdGNoZXMoJyNxdWVzdGlvbnMuYXNzZXNzbWVudF9yZXN1bHRzIC5nYWRnZXQnKSkge1xuICAgICAgY29uc29sZS5sb2coXCJyZW5kZXJpbmcgZ2FkZ2V0IGluIGEgcXVpeiBzdWJtaXNzaW9uXCIpO1xuXG4gICAgICBnYWRnZXQuY29uZmlnLnNob3cgPSAndGVzdHMnO1xuICAgICAgY29uc3Qgcm9sZXMgPSBFTlYuY3VycmVudF91c2VyX3JvbGVzO1xuICAgICAgICBcbiAgICAgIC8vIGluc3RydWN0b3IgZ3JhZGluZyB0aGUgcXVpelxuICAgICAgaWYgKHJvbGVzLmluY2x1ZGVzKFwidGVhY2hlclwiKSB8fCByb2xlcy5pbmNsdWRlcyhcImFkbWluXCIpKSB7XG4gICAgICAgIGdhZGdldC5jb25maWcuc2hvd190YWJzID0gdHJ1ZTtcblxuICAgICAgLy8gc3R1ZGVudCB2aWV3aW5nIHRoZWlyIHN1Ym1pc3Npb25cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdhZGdldC5jb25maWcucmVhZG9ubHkgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyB0aGVyZSBhcmUgdHdvIGdhZGdldHMsIG9uZSBmb3IgdGhlIGFuc3dlciBvbmUgZm9yIHRoZSBxdWVzdGlvblxuICAgICAgLy8gaGlkZSB0aGUgcXVlc3Rpb24gZ2FkZ2V0XG4gICAgICAkKGdhZGdldCkuY2xvc2VzdCgnLnF1ZXN0aW9uJykuZmluZCgnLnF1ZXN0aW9uX3RleHQnKS5oaWRlKCk7XG4gICAgICByZW5kZXIoKTtcbiAgICBcbiAgICB9IGVsc2UgaWYgKGdhZGdldC5tYXRjaGVzKCcjcXVlc3Rpb25zLnF1ZXN0aW9uX2VkaXRpbmcgLmdhZGdldCcpKSB7XG4gICAgICBjb25zb2xlLmxvZyhcInJlbmRlcmluZyBnYWRnZXQgaW4gdGhlIHF1aXogZWRpdG9yXCIpO1xuXG4gICAgICBnYWRnZXQuY29uZmlnLnNob3cgPSAnaW5zdHJ1Y3Rpb25zJztcbiAgICAgIGdhZGdldC5jb25maWcucmVhZG9ubHkgPSB0cnVlO1xuICAgICAgcmVuZGVyKCk7XG4gICAgXG4gICAgfSBlbHNlIGlmIChnYWRnZXQubWF0Y2hlcygnI2ljLVF1aXpJbnNwZWN0b3JfX1F1ZXN0aW9uSW5zcGVjdG9yIC5nYWRnZXQnKSkge1xuICAgICAgY29uc29sZS5sb2coXCJyZW5kZXJpbmcgZ2FkZ2V0IGluIHRoZSBhY3Rpdml0eSBzdHJlYW1cIik7XG5cbiAgICAgIGdhZGdldC5jb25maWcuc2hvdyA9ICd0ZXN0cyc7XG4gICAgICAkKFwiYnV0dG9uOmNvbnRhaW5zKCdWaWV3IEhUTUwnKVwiKS5jbGljaygpO1xuICAgIFxuICAgIC8vIG5vdGhpbmcgc3BlY2lhbCBhYm91dCB0aGlzIGdhZGdldFxuICAgIC8vIHJlbmRlciB3aXRoIGEgZGVmYXVsdCBjb25maWdcbiAgICB9IGVsc2Uge1xuICAgICAgcmVuZGVyKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyB0aGlzIHN0b3BzIHRoZSBkb2N1bWVudCBtb25pdG9yXG4gIHJldHVybiBmYWxzZTtcbn0pOyIsImltcG9ydCBmaWxlcyBmcm9tICcuL2ZpbGVzJztcbmltcG9ydCBtb25pdG9yaW5nIGZyb20gJy4vbW9uaXRvcmluZyc7XG5cbi8vIGFkZCB0aGUgXCJHYWRnZXQgUXVlc3Rpb25cIiBxdWVzdGlvbiB0eXBlIGFuZCB0aGUgXCJJbnNlcnQgR2FkZ2V0XCIgZWRpdG9yIGJ1dHRvblxuZXhwb3J0IGRlZmF1bHQgdGFyZ2V0ID0+IHtcbiAgY29uc3QgbW9uaXRvciA9IG1vbml0b3JpbmcodGFyZ2V0KTtcblxuICAvLyBhZGQgdGhlIFwiR2FkZ2V0IFF1ZXN0aW9uXCIgdHlwZSB0byB0aGUgcXVpeiBlZGl0b3JcbiAgbW9uaXRvci5hZGRlZCgnLnF1ZXN0aW9uX2hvbGRlciBzZWxlY3QucXVlc3Rpb25fdHlwZScsIHNlbGVjdCA9PiB7XG4gICAgY29uc3QgcXVlc3Rpb24gPSAkKHNlbGVjdCkuY2xvc2VzdCgnLnF1ZXN0aW9uJyk7XG4gICAgY29uc3QgY29udGVudCA9IHF1ZXN0aW9uLmZpbmQoJy5xdWVzdGlvbl9jb250ZW50Jyk7XG4gICAgY29uc3Qgb3B0aW9uID0gJChcIjxvcHRpb24gdmFsdWU9J2Vzc2F5X3F1ZXN0aW9uJz5HYWRnZXQgUXVlc3Rpb248L29wdGlvbj5cIik7XG5cbiAgICAvLyB0aGUgZWRpdG9yIG1pZ2h0IG5vdCBiZSBpbnN0YW50aWF0ZWQgeWV0LCBzbyB3ZSBjYW4ndCBjaGVjayBpdHMgRE9NIFxuICAgIC8vIGZvciBnYWRnZXQgb2JqZWN0LiBJbnN0ZWFkLCB3ZSdsbCBqdXN0IHNjYW4gdGhlIHByZS1leGlzaXRpbmcgY29udGVudFxuICAgIC8vIGZvciBhIGRpdiB0aGF0IHRoZSB3b3JkIGdhZGdldCBpbiBpdHMgb3BlbmluZyB0YWcgc29tZXdoZXJlXG4gICAgaWYgKGNvbnRlbnQudmFsKCkubWF0Y2goJzxkaXZbXjxdK2dhZGdldFtePF0rPicpICE9IG51bGwpIHtcbiAgICAgIG9wdGlvbi5hdHRyKCdzZWxlY3RlZCcsIHRydWUpO1xuICAgIH1cblxuICAgICQoc2VsZWN0KS5hcHBlbmQob3B0aW9uKS5jaGFuZ2UoKCkgPT4ge1xuICAgICAgaWYgKCQoc2VsZWN0KS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS50ZXh0KCkgPT0gJ0dhZGdldCBRdWVzdGlvbicpIHtcbiAgICAgICAgZmlsZXMuZ2V0KEVOVi5DT05URVhUX1VSTF9ST09ULCAncXVpei5nYWRnZXQnLCBnYWRnZXQgPT4ge1xuICAgICAgICAgIHRpbnltY2UuZ2V0KGNvbnRlbnQuYXR0cignaWQnKSkucmNlV3JhcHBlci5pbnNlcnRfY29kZShnYWRnZXQpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pOyAgIFxuICB9KTtcblxuICAvLyBhZGQgdGhlIFwiSW5zZXJ0IEdhZGdldFwiIGVkaXRvciBidXR0b24gXG4gIG1vbml0b3IuYWRkZWQoJy5tY2UtdGlueW1jZScsIGVkaXRvciA9PiB7XG4gICAgY29uc3QgYnV0dG9uID0gJChcIjxkaXY+XCIsIHsgXG4gICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICBjbGFzczogJ21jZS13aWRnZXQgbWNlLWJ0bicsXG4gICAgICB9KS5hcHBlbmQoJChcIjxidXR0b24+XCIsIHsgXG4gICAgICAgIHJvbGU6ICdwcmVzZW50YXRpb24nLFxuICAgICAgICB0eXBlOididXR0b24nXG4gICAgICB9KS5hcHBlbmQoJChcIjxpPlwiKVxuICAgICAgICAuYWRkQ2xhc3MoXCJtY2UtaWNvIG1jZS1pLW5vbmVcIilcbiAgICAgICAgLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIiwgXCJ1cmwoJ2h0dHBzOi8vaS5pbWd1ci5jb20vVjg4VVB1Sy5wbmcnKVwiKVxuICAgICAgKVxuICAgIClcblxuICAgIGJ1dHRvbi5jbGljaygoKSA9PiB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9ICdzdHVkZW50LmdhZGdldCc7XG4gICAgICBjb25zdCByb2xlcyA9IEVOVi5jdXJyZW50X3VzZXJfcm9sZXM7XG5cbiAgICAgIC8vIHRoaXMgaXMgYSBxdWl6IHF1ZXN0aW9uXG4gICAgICBpZiAoJChlZGl0b3IpLmNsb3Nlc3QoJy5xdWVzdGlvbicpLmxlbmd0aCkge1xuICAgICAgICB0ZW1wbGF0ZSA9ICdxdWl6LmdhZGdldCc7XG4gICAgICB9IGVsc2UgaWYgKHJvbGVzLmluY2x1ZGVzKFwidGVhY2hlclwiKSB8fCByb2xlcy5pbmNsdWRlcyhcImFkbWluXCIpKSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3RlYWNoZXIuZ2FkZ2V0JztcbiAgICAgIH1cblxuICAgICAgZmlsZXMuZ2V0KEVOVi5DT05URVhUX1VSTF9ST09ULCB0ZW1wbGF0ZSwgZ2FkZ2V0ID0+IHtcbiAgICAgICAgdGlueW1jZS5nZXQoaWQpLnJjZVdyYXBwZXIuaW5zZXJ0X2NvZGUoZ2FkZ2V0KVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyB3ZSByZW1vdmUgdGhlIGxlZnQtdG8tcmlnaHQgYW5kIHJpZ2h0LXRvLWxlZnQgYnV0dG9uc1xuICAgIC8vIC4uLiBob3BlZnVsbHkgbm8gb25lIG5lZWRlZCB0aG9zZSAuLi4gwq9cXF8o44OEKV8vwq9cbiAgICAkKGVkaXRvcikuZmluZCgnLm1jZS1idG46aGFzKC5tY2UtaS1ydGwpJykucmVtb3ZlKCk7XG4gICAgJChlZGl0b3IpLmZpbmQoJy5tY2UtYnRuOmhhcygubWNlLWktbHRyKScpLnJlcGxhY2VXaXRoKGJ1dHRvbik7XG4gIH0pO1xufSIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgbW9uaXRvcmluZyBmcm9tICcuL21vbml0b3JpbmcnO1xuaW1wb3J0IGdhZGdldF9odG1sIGZyb20gJ3Jhdy1sb2FkZXIhLi9nYWRnZXQuaHRtbCc7XG5cbi8vIFRPRE86IHJlbW92ZSBqc2V2YWwgd2hlbiBldmFsJ2luZyBtYWluXG5leHBvcnQgZGVmYXVsdCAodGFyZ2V0LCBjb25maWd1cmUpID0+IHtcbiAgY29uc3QgbW9uaXRvciA9IG1vbml0b3JpbmcodGFyZ2V0LCB7aWZyYW1lczogdHJ1ZX0pO1xuXG4gIC8vIHRoaXMgcmVzaXplIG9ic2VydmVyIG1vbml0b3JzIGdhZGdldCBkaXZzIGFuZCByZXNpemVzIFxuICAvLyB0aGVpciByZXNwZWN0aXZlIGlmcmFtZXMgdG8gYmUgdGhlIHNhbWUgc2l6ZSBcbiAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgIGNvbnN0IGdhZGdldCA9IGVudHJ5LnRhcmdldDtcblxuICAgICAgaWYgKGdhZGdldC5jb25maWcgJiYgZ2FkZ2V0LmNvbmZpZy5pZnJhbWVFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG9mZnNldHMgPSAkKGdhZGdldCkub2Zmc2V0KCk7XG5cbiAgICAgICAgJChnYWRnZXQuY29uZmlnLmlmcmFtZUVsZW1lbnQpLmNzcyh7XG4gICAgICAgICAgJ3otaW5kZXgnOiAxMCxcbiAgICAgICAgICB0b3A6IG9mZnNldHMudG9wLCBcbiAgICAgICAgICBsZWZ0OiBvZmZzZXRzLmxlZnQsXG4gICAgICAgICAgd2lkdGg6IGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoLCBcbiAgICAgICAgICBoZWlnaHQ6IGVudHJ5LmNvbnRlbnRSZWN0LmhlaWdodFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgY29uc29sZS5sb2coXCJyZW5kZXJlciBsb2FkZWRcIik7XG5cbiAgbW9uaXRvci5hcHBlYXJlZChcImRpdi5nYWRnZXRcIiwgZ2FkZ2V0ID0+IHtcbiAgICBjb25zb2xlLmxvZyhnYWRnZXQpO1xuXG4gICAgLy8gdGhlIGdhZGdldCBoYXMgYWxyZWFkeSBiZWVuIHJlbmRlcmVkLCBzbyBqdXN0IHNob3cgaXRcbiAgICBpZiAoZ2FkZ2V0LmNvbmZpZykge1xuICAgICAgJChnYWRnZXQuY29uZmlnLmlmcmFtZUVsZW1lbnQpLnNob3coKTtcbiAgICAgICQoZ2FkZ2V0LmNvbmZpZy5pZnJhbWVFbGVtZW50KS5jc3Moeyd6LWluZGV4JzogMTB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2FkZ2V0LmNvbmZpZyA9IHt9O1xuICAgIFxuICAgICAgY29uc3QgaWZyYW1lID0gJCgnPGlmcmFtZT4nLCB7XG4gICAgICAgIGZyYW1lYm9yZGVyOiAwLFxuICAgICAgICBtYXJnaW53aWR0aDogMCxcbiAgICAgICAgbWFyZ2luaGVpZ2h0OiAwLFxuICAgICAgICBjbGFzczogJ2dhZGdldCcsXG4gICAgICAgIGFsbG93ZnVsbHNjcmVlbjogdHJ1ZVxuICAgICAgfSlcblxuICAgICAgLy8gbWFrZSB0aGUgZ2FkZ2V0IHRoZSBzYW1lIHNpemUgYXMgdGhlIGlmcmFtZVxuICAgICAgJChnYWRnZXQpLmNoaWxkcmVuKCkuaGlkZSgpO1xuICAgICAgJChnYWRnZXQpLmNzcyh7IGhlaWdodDogMzUwLCB3aWR0aDogJzEwMCUnLCBtYXJnaW46IDAgfSkuc2hvdygpO1xuXG4gICAgICAvLyBwbGFjZSB0aGUgaWZyYW1lIG92ZXIgdGhlIGdhZGdldCBkaXZcbiAgICAgIGNvbnN0IG9mZnNldHMgPSAkKGdhZGdldCkub2Zmc2V0KCk7XG5cbiAgICAgIGlmcmFtZS5jc3MoeyBcbiAgICAgICAgJ3otaW5kZXgnOiAxMCxcbiAgICAgICAgdG9wOiBvZmZzZXRzLnRvcCwgXG4gICAgICAgIGxlZnQ6IG9mZnNldHMubGVmdCxcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAgICAgIH0pO1xuXG4gICAgICAvLyBtYWtlIHN1cmUgdGhlIGdhZGdldHMgYW5kIGl0cyBpZnJhbWUgY2FuIGZpbmQgZWFjaCBvdGhlclxuICAgICAgY29uc3QgaWZyYW1lRWxlbWVudCA9IGlmcmFtZVswXTtcbiAgICAgIGlmcmFtZUVsZW1lbnQuZ2FkZ2V0ID0gZ2FkZ2V0O1xuXG4gICAgICAvLyBwYXNzIHRoZSBnYWRnZXQgdG8gdGhlIHVzZXIgZm9yIGNvbmZpZ3VyYXRpb25cbiAgICAgIGdhZGdldC5jb25maWcuaWZyYW1lRWxlbWVudCA9IGlmcmFtZUVsZW1lbnQ7XG4gICAgICBcbiAgICAgIC8vIGtlZXAgZ2FkZ2V0IHJlbmRlcmluZyBhcyBzeW5jaHJvbm91cyBhcyBwb3NzaWJsZSB0byBwcmV2ZW50IFxuICAgICAgLy8gcmVuZGVyaW5nIHRoZSBzYW1lIGdhZGdldCB0d2ljZSwgaGVuY2UgdGhlIGNhbGxiYWNrXG4gICAgICBjb25maWd1cmUoZ2FkZ2V0LCAoKSA9PiB7XG5cbiAgICAgICAgLy8gdGhlIGlmcmFtZSBoYXMgdG8gbGl2ZSBzb21ld2hlcmUgaW4gdGhlIERPTSwgc28gd2UganVzdCBcbiAgICAgICAgLy8gYXBwZW5kIGl0IHRvIHRoZSBvd25pbmcgZG9jdW1lbnQuIFdlIGRvbid0IGFwcGVuZCBpdCB0byBcbiAgICAgICAgLy8gdGhlIGJvZHkgb2YgdGhlIGRvY3VtZW50IGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCBpdCB0byBhcHBlYXJcbiAgICAgICAgLy8gaW4gdGhlIEhUTUwgc291cmNlIG9mIHRoZSB0aW55bWNlIGVkaXRvclxuICAgICAgICBnYWRnZXQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaWZyYW1lRWxlbWVudCk7XG5cbiAgICAgICAgLy8gdGhlIGlmcmFtZSBmbG9hdHMgYXRvcCB0aGUgZ2FkZ2V0IGRpdiwgdGhlIHJlc2l6ZSBvYnNlcnZlclxuICAgICAgICAvLyBrZWVwcyBpdCB0aGVyZVxuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGdhZGdldClcblxuICAgICAgICAvLyB0aGUgaWZyYW1lIGNvbnRlbnRzIGFyZSBpbnNlcnRlZCBkeW5hbWljYWxseSBzbyB3ZSBkb24ndCB0cmlnZ2VyXG4gICAgICAgIC8vIGFueSBjcm9zcy1kb21haW4gcHJvdGVjdGlvbnMgYW5kIHRoaXMgaWZyYW1lIGNhbiBhY2Nlc3MgY2FudmFzXG4gICAgICAgIGlmcmFtZUVsZW1lbnQuY29udGVudERvY3VtZW50Lm9wZW4oJ3RleHQvaHRtbHJlcGxhY2UnKTtcbiAgICAgICAgaWZyYW1lRWxlbWVudC5jb250ZW50RG9jdW1lbnQud3JpdGUoZ2FkZ2V0X2h0bWwpO1xuICAgICAgICBpZnJhbWVFbGVtZW50LmNvbnRlbnREb2N1bWVudC5jbG9zZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvLyB3aGVuIGEgZ2FkZ2V0IGlzIHJlbW92ZWQsIHJlbW92ZSBpdHMgcmVzcGVjdGl2ZSBpZnJhbWVcbiAgbW9uaXRvci5yZW1vdmVkKFwiZGl2LmdhZGdldFwiLCBnYWRnZXQgPT4geyAgICAgIFxuICAgIGlmKGdhZGdldC5jb25maWcpIHtcbiAgICAgICQoZ2FkZ2V0LmNvbmZpZy5pZnJhbWVFbGVtZW50KS5yZW1vdmUoKTtcbiAgICAgIGdhZGdldC5jb25maWcgPSBudWxsO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gd2hlbiBhIGdhZGdldCBpcyBoaWRkZW4sIGhpZGUgaXRzIHJlc3BlY3RpdmUgaWZyYW1lXG4gIG1vbml0b3IuZGlzYXBwZWFyZWQoXCJkaXYuZ2FkZ2V0XCIsIGdhZGdldCA9PiB7XG4gICAgaWYoZ2FkZ2V0LmNvbmZpZykge1xuICAgICAgJChnYWRnZXQuY29uZmlnLmlmcmFtZUVsZW1lbnQpLmhpZGUoKTtcbiAgICB9XG4gIH0pO1xufSIsImV4cG9ydCBkZWZhdWx0IFwiPCFET0NUWVBFIGh0bWw+XFxuPGh0bWwgbGFuZz1cXFwiZW5cXFwiIGNsYXNzPVxcXCJuby1qc1xcXCI+XFxuPGhlYWQ+XFxuICAgIDxtZXRhIGNoYXJzZXQ9XFxcInV0Zi04XFxcIj5cXG4gICAgPG1ldGEgbmFtZT1cXFwidmlld3BvcnRcXFwiIGNvbnRlbnQ9XFxcIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcXFwiPlxcbiAgICBcXG4gICAgPCEtLSBUT0RPOiBGaXggdGhpcyAtLT4gXFxuICAgIDxiYXNlIGhyZWY9XFxcImh0dHBzOi8vZ2FkZ2V0LmNvbXB1dGUuYXJteS9cXFwiIC8+XFxuXFxuICAgIDxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcImNzcy9lbWJlZC5jc3NcXFwiPlxcbiAgICA8bGluayByZWw9XFxcInN0eWxlc2hlZXRcXFwiIHR5cGU9XFxcInRleHQvY3NzXFxcIiBocmVmPVxcXCJsaWJzL2hpZ2hsaWdodC5qcy84LjAvc3R5bGVzL2dpdGh1Yi5taW4uY3NzXFxcIj5cXG4gICAgPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwibGlicy9mb250LWF3ZXNvbWUvNC43LjAvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzXFxcIj5cXG5cXG4gICAgPHNjcmlwdCBzcmM9J2xpYnMvanN6aXAvMy4xLjQvZGlzdC9qc3ppcC5taW4uanMnPjwvc2NyaXB0PlxcbiAgICA8c2NyaXB0IHNyYz0nbGlicy9qc2RpZmYvMS4wLjgvZGlmZi5qcyc+PC9zY3JpcHQ+XFxuICAgIDxzY3JpcHQgc3JjPVxcXCJsaWJzL21vZGVybml6ci8yLjguMi9tb2Rlcm5penIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcbiAgICA8c2NyaXB0IHNyYz1cXFwibGlicy9kZXRlY3RpenIvZGlzdC9kZXRlY3RpenIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcbiAgICA8c2NyaXB0IHNyYz1cXFwibGlicy9jcnlwdG8tanMvMy4xLjIvcm9sbHVwcy9tZDUuanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuICAgIDxzY3JpcHQgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIiBzcmM9XFxcImxpYnMvZGlmZl9tYXRjaF9wYXRjaC8yMDEyMTExOS9kaWZmX21hdGNoX3BhdGNoLmpzXFxcIj48L3NjcmlwdD5cXG48L2hlYWQ+XFxuXFxuPGJvZHkgaWQ9XFxcImVtYmVkX2NvbnRlbnRfcHl0aG9uXFxcIiBkYXRhLW5vLW1ldHJpY3M9XFxcImZhbHNlXFxcIiBkYXRhLWFzc2lnbm1lbnQ9XFxcImZhbHNlXFxcIiBkYXRhLXZpZXctb25seT1cXFwiZmFsc2VcXFwiIGNsYXNzPVxcXCJtb2RlLXN0YW5kYXJkIHJlbWl4YWJsZVxcXCIgZGF0YS1pcy1tb2JpbGU9XFxcImZhbHNlXFxcIj5cXG4gICAgPGRpdiBpZD1cXFwid3JhcHBlclxcXCIgY2xhc3M9XFxcIm9mZi1jYW52YXMtd3JhcCBvd25lci12aWV3IHJvd1xcXCIgZGF0YS1vZmZjYW52YXM+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJnYWRnZXQtd3JhcHBlciBpbm5lci13cmFwXFxcIj5cXG4gICAgICAgICAgICA8bmF2IGlkPVxcXCJtZW51XFxcIiBjbGFzcz1cXFwiZ2FkZ2V0LWhlYWRlciBcXFwiIGRhdGEtaW50ZXJmYWNlPVxcXCJ0b3AtbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPVxcXCJtb2RlLXRvb2xiYXIgbGVmdFxcXCIgZGF0YS1tb2RlPVxcXCJpbnRlcmFjdFxcXCIgcm9sZT1cXFwibWVudWJhclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpY29uLWJhciBsYWJlbC1yaWdodFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcImVkaXQtaXQgbWVudS1idXR0b24gaXRlbSBhbGxvdy1vcmlnaW5hbCBzaG93LWZvci1zbWFsbC1vbmx5XFxcIiBkYXRhLWFjdGlvbj1cXFwiY29kZS5lZGl0XFxcIiB0aXRsZT1cXFwiRWRpdCB0aGUgY29kZS5cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtcGVuY2lsXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwic2hvdy1mb3ItbGFyZ2UtdXBcXFwiPkNvZGU8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcImJ1dHRvbiBydW4taXQgbWVudS1idXR0b24gaXRlbSBzcGxpdCBhbGxvdy1vcmlnaW5hbFxcXCIgZGF0YS1hY3Rpb249XFxcImNvZGUucnVuXFxcIiB0aXRsZT1cXFwiVmlldyB0aGUgcmVzdWx0LlxcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIiBhcmlhLWxhYmVsPVxcXCJSdW4gQnV0dG9uXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1wbGF5XFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwic2hvdy1mb3ItbGFyZ2UtdXBcXFwiPlJ1bjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtZHJvcGRvd249XFxcInJ1bi1vcHRpb25zXFxcIiBkYXRhLW9wdGlvbnM9XFxcImFsaWduOmJvdHRvbVxcXCIgcm9sZT1cXFwibWVudVxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFwiY2hlY2staXQgbWVudS1idXR0b24gaXRlbSBhbGxvdy1vcmlnaW5hbCBoaWRlXFxcIiBkYXRhLWFjdGlvbj1cXFwiY29kZS5jaGVja1xcXCIgdGl0bGU9XFxcIkNoZWNrIHlvdXIgY29kZS5cXFwiIHRhYmluZGV4PVxcXCIwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWNoZWNrLWNpcmNsZVxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcInNob3ctZm9yLWxhcmdlLXVwXFxcIj5DaGVjazwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJidXR0b24gZnVsbHNjcmVlbi1pdCBtZW51LWJ1dHRvbiBpdGVtIGFsbG93LW9yaWdpbmFsXFxcIiBkYXRhLWFjdGlvbj1cXFwibW9kZS5mdWxsc2NyZWVuXFxcIiByb2xlPVxcXCJidXR0b25cXFwiIGFyaWEtbGFiZWw9XFxcIkZ1bGxzY3JlZW5cXFwiIHRhYmluZGV4PVxcXCIwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWV4cGFuZFxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcInNob3ctZm9yLWxhcmdlLXVwXFxcIj5GdWxsc2NyZWVuPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcImJ1dHRvbiByZXNldC1pdCBtZW51LWJ1dHRvbiBpdGVtIGFsbG93LW9yaWdpbmFsIGhpZGVcXFwiIGRhdGEtYWN0aW9uPVxcXCJjb2RlLnJlc2V0XFxcIiByb2xlPVxcXCJidXR0b25cXFwiIGFyaWEtbGFiZWw9XFxcIlJlc2V0XFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1yZWZyZXNoXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwic2hvdy1mb3ItbGFyZ2UtdXBcXFwiPlJlc2V0PC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9J21lbnUtYnV0dG9uIGZvbnQtc2l6ZSBpdGVtIGFsbG93LW9yaWdpbmFsJyBkYXRhLWFjdGlvbj1cXFwiY29kZS5mb250c2l6ZVxcXCIgb25jbGljaz1cXFwidmFyIHN3YXA9JCh0aGlzKS5kYXRhKCdkYXRhJyk7ICQodGhpcykuZGF0YSgnZGF0YScsJCh0aGlzKS5kYXRhKCdsYXN0JykpOyAkKHRoaXMpLmRhdGEoJ2xhc3QnLHN3YXApXFxcIiBkYXRhLWxhc3Q9XFxcIjJlbVxcXCIgZGF0YS1kYXRhPVxcXCIxZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYUFcXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwic2hvdy1mb3ItbGFyZ2UtdXBcXFwiPkZvbnQ8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L3NlY3Rpb24+XFxuICAgICAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPVxcXCJtb2RlLWluZGljYXRvciByaWdodFxcXCI+XFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaWNvbi1iYXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbVxcXCI+PGRpdiBpZD1cXFwiZHJhZnRNZXNzYWdlXFxcIiBjbGFzcz1cXFwiaGlkZSBkcmFmdC1tZXNzYWdlXFxcIj48L2Rpdj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDwhLS0gdXNlciwgaGFzIHJlbWl4LCB2aWV3aW5nIHJlbWl4IC0tPlxcbiAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9XFxcIlNhdmUgY2hhbmdlc1xcXCIgY2xhc3M9XFxcInNhdmUtaXQgbWVudS1idXR0b24gYWxsb3ctb3JpZ2luYWwgaXRlbSBibHVlLWhpZ2hsaWdodCBkaXNhYmxlZCBoaWRlXFxcIiBkYXRhLWFjdGlvbj1cXFwibWVudS51cGdyYWRlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXNhdmVcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJzaG93LWZvci1tZWRpdW0tdXBcXFwiPlNhdmVkPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cXG5cXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9zZWN0aW9uPlxcbiAgICAgICAgICAgIDwvbmF2PlxcblxcbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPVxcXCJnYWRnZXQtY29udGVudCBtYWluLXNlY3Rpb25cXFwiIGRhdGEtaW50ZXJmYWNlPVxcXCJjb250ZW50XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiZmxhc2hNZXNzYWdlXFxcIiBjbGFzcz1cXFwiY29udGFpbmVyIGhpZGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiZmxhc2hDb250ZW50XFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImdhZGdldC1jb250ZW50LXdyYXBwZXIgXFxcIiByb2xlPVxcXCJtYWluXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcImNvbnRlbnQtb3ZlcmxheVxcXCIgY2xhc3M9XFxcImhpZGVcXFwiIGRhdGEtaW50ZXJmYWNlPVxcXCJvdmVybGF5XFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDwhLS0gYXV0b3J1bjogY29kZSAvIHJlc3VsdCAvIGNoZWNrIC0tPlxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJzdGFydC12YWx1ZVxcXCIgdHlwZT0naGlkZGVuJyB2YWx1ZT0nY29kZScgLz5cXG4gICAgICAgICAgICAgICAgICAgIDwhLS0gY29uc29sZSAvIHJlc3VsdCAtLT5cXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwicnVuTW9kZS12YWx1ZVxcXCIgdHlwZT0naGlkZGVuJyB2YWx1ZT0nJyAvPlxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJydW5PcHRpb24tdmFsdWVcXFwiIHR5cGU9J2hpZGRlbicgdmFsdWU9J3J1bicgLz5cXG4gICAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcIm1vZHVsZXNcXFwiIGNsYXNzPVxcXCJoaWRlXFxcIiBkYXRhLWludGVyZmFjZT1cXFwib3ZlcmxheVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcIm1lbnUtYnV0dG9uIGNsb3NlclxcXCIgZGF0YS1hY3Rpb249XFxcImNvZGUubW9kdWxlc1xcXCIgZGF0YS1kYXRhPVxcXCJjbG9zZVxcXCI+PGkgY2xhc3M9XFxcImZhIGZhLXRpbWVzLWNpcmNsZS1vXFxcIj48L2k+PC9hPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJlZGl0b3JcXFwiIGNsYXNzPVxcXCJjb2RlLWVkaXRvciBoaWRlXFxcIiBkYXRhLWludGVyZmFjZT1cXFwiZWRpdG9yXFxcIj48L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcImRyYWdiYXJcXFwiPjwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiY29kZU91dHB1dFxcXCIgY2xhc3M9XFxcImNvZGVPdXRwdXQgaGlkZVxcXCIgZGF0YS1pbnRlcmZhY2U9XFxcIm91dHB1dFxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSB3aGVuIGhpZGluZyBpbnN0cnVjdGlvbnM6IGhpZGVJbnN0cnVjdGlvbnMgLS0+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwib3V0cHV0VGFic1xcXCIgY2xhc3M9XFxcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImFjdGl2ZSBtZW51LWJ1dHRvblxcXCIgaWQ9XFxcImNvZGVPdXRwdXRUYWJcXFwiIGRhdGEtYWN0aW9uPVxcXCJvdXRwdXQudmlld1xcXCI+UmVzdWx0PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1lbnUtYnV0dG9uXFxcIiBpZD1cXFwiaW5zdHJ1Y3Rpb25zVGFiXFxcIiBkYXRhLWFjdGlvbj1cXFwiaW5zdHJ1Y3Rpb25zLnZpZXdcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1saXN0XFxcIj48L2k+IEluc3RydWN0aW9uczwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gd2hlbiBoaWRpbmcgaW5zdHJ1Y3Rpb25zOiB3aXRob3V0VGFicyAtLT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJvdXRwdXRDb250YWluZXJcXFwiIGNsYXNzPVxcXCJ3aXRoVGFic1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcImdyYXBoaWMtd3JhcFxcXCIgY2xhc3M9XFxcImhpZGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiZ3JhcGhpY1xcXCIgYXJpYS1sYWJlbD1cXFwiVmlzdWFsIE91dHB1dFxcXCIgcm9sZT1cXFwiYXBwbGljYXRpb25cXFwiIHRhYmluZGV4PVxcXCIwXFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcIm91dHB1dC1kcmFnYmFyXFxcIiBjbGFzcz1cXFwiaGlkZVxcXCIgZGF0YS1hY3Rpb249XFxcInJlc2l6ZVxcXCI+PC9kaXY+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcImNvbnNvbGUtd3JhcFxcXCIgY2xhc3M9XFxcImhpZGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiY29uc29sZS1vdXRwdXRcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWxhYmVsPVxcXCJDb2RlIE91dHB1dFxcXCI+PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBpZD1cXFwicmVzZXQtb3V0cHV0XFxcIiB0aXRsZT1cXFwiY2xlYXIgb3V0cHV0XFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtYmFuXFxcIj48L2k+PC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwidW5pdHRlc3Qtd3JhcFxcXCIgY2xhc3M9XFxcImhpZGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwidW5pdHRlc3Qtb3V0cHV0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3cgZ3JleSBjb2xsYXBzZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNtYWxsLTEyIGNvbHVtblxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwidGV4dC1jZW50ZXIgb3ZlcnZpZXdcXFwiIGlkPVxcXCJ0ZXN0LXRvdGFsc1xcXCI+PC9wPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcImFjY29yZGlvblxcXCIgaWQ9XFxcInVuaXR0ZXN0LWFjY29yZGlvblxcXCIgZGF0YS1hY2NvcmRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJpbnN0cnVjdGlvbnNDb250YWluZXJcXFwiIGNsYXNzPVxcXCJoaWRlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiaW5zdHJ1Y3Rpb25zQWN0aW9uc1xcXCIgY2xhc3M9XFxcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBpZD1cXFwiZWRpdC1pbnN0cnVjdGlvbnMtbGlua1xcXCI+PGkgY2xhc3M9XFxcImZhIGZhLXBlbmNpbCBoaWRlXFxcIiB0aXRsZT1cXFwiRWRpdFxcXCI+PC9pPjwvYT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcImluc3RydWN0aW9uc1Rvb2xiYXJcXFwiIGNsYXNzPVxcXCJoaWRlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJyaWdodFxcXCIgaWQ9XFxcInNhdmUtaW5zdHJ1Y3Rpb25zXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtc2F2ZVxcXCIgdGl0bGU9XFxcIlNhdmVcXFwiPjwvaT48L2E+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBpZD1cXFwiY2FuY2VsLWVkaXQtaW5zdHJ1Y3Rpb25zXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtdGltZXNcXFwiIHRpdGxlPVxcXCJDYW5jZWxcXFwiPjwvaT48L2E+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJpbnN0cnVjdGlvbnNPdXRwdXRcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvc2VjdGlvbj5cXG5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIFxcbiAgICA8c2NyaXB0IGlkPVxcXCJzdGF0dXNNZXNzYWdlVGVtcGxhdGVcXFwiIHR5cGU9XFxcInRleHQvaHRtbFxcXCI+XFxuICAgICAgICA8ZGl2IGlkPVxcXCJzdGF0dXNNZXNzYWdlc1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIHJvbGU9XFxcImFsZXJ0XFxcIiB0YWJpbmRleD0wIGRhdGEtaW50ZWZhY2U9XFxcImFsZXJ0XFxcIiBkYXRhLWFsZXJ0IGNsYXNzPVxcXCJhbGVydC1ib3gge3t0eXBlfX1cXFwiPlxcbiAgICAgICAgICAgIDxkaXY+e3ttZXNzYWdlfX08L2Rpdj5cXG4gICAgICAgICAgICA8YSBocmVmPVxcXCJiN2IwNjI1MmY0Lmh0bWwjXFxcIiB0aXRsZT1cXFwiQ2xvc2UgbWVzc2FnZVxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZSBBbGVydFxcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtdGltZXMtY2lyY2xlXFxcIj48L2k+PC9hPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvc2NyaXB0PlxcbiAgICA8ZGl2IGlkPVxcXCJjb250ZW50LW92ZXJsYXlcXFwiIGNsYXNzPVxcXCJoaWRlXFxcIj48L2Rpdj5cXG5cXG4gICAgPCEtLSB0aGUgcmVzcG9uc2UtaW5kaWNhdG9yIGRpdnMgYWxsb3cgamF2YXNjcmlwdCB0byBkZXRlcm1pbmUgd2hpY2ggcmVzcG9uc2l2ZSBzaXplIGlzIGJlaW5nIGFwcGxpZWQgLS0+XFxuICAgIDxkaXYgY2xhc3M9XFxcInJlc3BvbnNpdmUtaW5kaWNhdG9yIHNob3ctZm9yLXNtYWxsLW9ubHlcXFwiIGRhdGEtc2l6ZT1cXFwic21hbGxcXFwiPjwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJyZXNwb25zaXZlLWluZGljYXRvciBzaG93LWZvci1tZWRpdW0tb25seVxcXCIgZGF0YS1zaXplPVxcXCJtZWRpdW1cXFwiPjwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJyZXNwb25zaXZlLWluZGljYXRvciBzaG93LWZvci1sYXJnZS11cFxcXCIgZGF0YS1zaXplPVxcXCJsYXJnZVxcXCI+PC9kaXY+XFxuXFxuICAgIDxkaXYgaWQ9XFxcImNvbmZpcm1SZXNldE1vZGFsXFxcIiBjbGFzcz1cXFwicmV2ZWFsLW1vZGFsIG1lZGl1bVxcXCIgZGF0YS1yZXZlYWwgZGF0YS1jc3MtdG9wPVxcXCIzNVxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgIDxoMiBpZD1cXFwibW9kYWxUaXRsZVxcXCI+QXJlIHlvdSBzdXJlPzwvaDI+XFxuICAgICAgICAgICAgPHAgY2xhc3M9XFxcImxlYWRcXFwiPlJlc2V0dGluZyB3aWxsIHVuZG8gYWxsIG9mIHlvdXIgY2hhbmdlcyBzaW5jZSB0aGlzIGdhZGdldCB3YXMgaW5pdGlhbGx5IGxvYWRlZC48L3A+XFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcImJ1dHRvbiBjYXV0aW9uIG1lbnUtYnV0dG9uIGFsbG93LW9yaWdpbmFsXFxcIiBkYXRhLWFjdGlvbj1cXFwiY29kZS5jYW5jZWwtcmVzZXRcXFwiPkNhbmNlbDwvYT5cXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFwiYnV0dG9uIGRhbmdlciBtZW51LWJ1dHRvbiBhbGxvdy1vcmlnaW5hbFxcXCIgZGF0YS1hY3Rpb249XFxcImNvZGUuY29uZmlybS1yZXNldFxcXCI+WWVzLCBJIGFtIHN1cmUuPC9hPlxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJjbG9zZS1yZXZlYWwtbW9kYWxcXFwiIGFyaWEtbGFiZWw9XFxcIkNsb3NlXFxcIj4mIzIxNTs8L2E+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXYgaWQ9XFxcImJhZEJyb3dzZXJcXFwiIGNsYXNzPVxcXCJyZXZlYWwtbW9kYWwgbWVkaXVtXFxcIiBkYXRhLXJldmVhbCBkYXRhLWNzcy10b3A9XFxcIjM1XFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuICAgICAgICAgICAgPGgyIGlkPVxcXCJtb2RhbFRpdGxlXFxcIj5TdG9wITwvaDI+XFxuICAgICAgICAgICAgPHAgY2xhc3M9XFxcImxlYWRcXFwiPkludGVybmV0IEV4cGxvcmVyIGlzIG5vdCBzdXBwb3J0ZWQuIFRyeSBGaXJlZm94LCBDaHJvbWUsIG9yIEVkZ2UuIDwvcD5cXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFwiY2xvc2UtcmV2ZWFsLW1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCI+JiMyMTU7PC9hPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8dWwgaWQ9XFxcInJ1bi1vcHRpb25zXFxcIiBjbGFzcz1cXFwiZi1kcm9wZG93blxcXCIgZGF0YS1kcm9wZG93bi1jb250ZW50PlxcbiAgICAgICAgPGxpPjxhIGNsYXNzPVxcXCJtZW51LWJ1dHRvblxcXCIgZGF0YS1hY3Rpb249XFxcImNvZGUucnVuXFxcIiBkYXRhLWJ1dHRvbj1cXFwicnVuXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtcGxheVxcXCI+PC9pPlJ1bjwvYT48L2xpPlxcbiAgICAgICAgPGxpPjxhIGNsYXNzPVxcXCJtZW51LWJ1dHRvblxcXCIgZGF0YS1hY3Rpb249XFxcImNvZGUuY29uc29sZVxcXCIgZGF0YS1idXR0b249XFxcImNvbnNvbGVcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS10ZXJtaW5hbFxcXCI+PC9pPkNvbnNvbGU8L2E+PC9saT5cXG4gICAgICAgIDxsaT48YSBjbGFzcz1cXFwibWVudS1idXR0b25cXFwiIGRhdGEtYWN0aW9uPVxcXCJjb2RlLmRlYnVnXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtYnVnXFxcIj48L2k+RGVidWc8L2E+PC9saT5cXG4gICAgPC91bD5cXG5cXG4gICAgPHNjcmlwdCBpZD1cXFwidW5pdHRlc3QtZXJyb3JcXFwiIHR5cGU9XFxcInRleHQvdGVtcGxhdGVcXFwiPlxcbiAgICAgICAgPGxpIGNsYXNzPVxcXCJhY2NvcmRpb24tbmF2aWdhdGlvblxcXCI+XFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiYjdiMDYyNTJmNC5odG1sI3BhbmVsLXt7dGVzdE51bWJlcn19XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicmVhbGx5LXdyb25nXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGkgY2xhc3M9XFxcImZhIGZhLWFuZ2xlLXJpZ2h0IGZhLWxnIG9wZW4tY2xvc2UtaW5kaWNhdG9yXFxcIj48L2k+e3tzaG9ydERlc2NyaXB0aW9ufX08L3A+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0yXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1jaXJjbGUtbyBmYS1sZ1xcXCI+PC9pPjwvcD5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgPGRpdiBpZD1cXFwicGFuZWwte3t0ZXN0TnVtYmVyfX1cXFwiIGNsYXNzPVxcXCJjb250ZW50XFxcIj5cXG4gICAgICAgICAgICAgICAgPHA+XFxuICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPk1lc3NhZ2U6PC9zdHJvbmc+IDxwcmU+e3tyZWFzb259fTwvcHJlPlxcbiAgICAgICAgICAgICAgICA8L3A+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2xpPlxcbiAgICA8L3NjcmlwdD5cXG5cXG4gICAgPHNjcmlwdCBpZD1cXFwidW5pdHRlc3QtZmFpbFxcXCIgdHlwZT1cXFwidGV4dC90ZW1wbGF0ZVxcXCI+XFxuICAgICAgICA8bGkgY2xhc3M9XFxcImFjY29yZGlvbi1uYXZpZ2F0aW9uXFxcIj5cXG4gICAgICAgICAgICA8YSBocmVmPVxcXCJiN2IwNjI1MmY0Lmh0bWwjcGFuZWwte3t0ZXN0TnVtYmVyfX1cXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyZWFsbHktd3JvbmdcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxpIGNsYXNzPVxcXCJmYSBmYS1jaXJjbGUtbyBmYS1sZ1xcXCI+PC9pPjwvcD5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTkgY29sdW1uXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8cD57e3Nob3J0RGVzY3JpcHRpb259fTwvcD5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgPGRpdiBpZD1cXFwicGFuZWwte3t0ZXN0TnVtYmVyfX1cXFwiIGNsYXNzPVxcXCJjb250ZW50XFxcIj5cXG4gICAgICAgICAgICAgICAgPHA+XFxuICAgICAgICAgICAgICAgICAgICB7e2Rlc2NyaXB0aW9ufX0gXFxuICAgICAgICAgICAgICAgICAgICB7e3JlYXNvbn19XFxuICAgICAgICAgICAgICAgIDwvcD5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvbGk+XFxuICAgIDwvc2NyaXB0PlxcblxcbiAgICA8c2NyaXB0IGlkPVxcXCJ1bml0dGVzdC1wYXNzXFxcIiB0eXBlPVxcXCJ0ZXh0L3RlbXBsYXRlXFxcIj5cXG4gICAgICAgIDxsaSBjbGFzcz1cXFwiYWNjb3JkaW9uLW5hdmlnYXRpb25cXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInJlYWxseS1yaWdodFxcXCI+XFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtZC0yXFxcIj5cXG4gICAgICAgICAgICAgICAgPHA+PGkgY2xhc3M9XFxcImZhIGZhLWNoZWNrLWNpcmNsZSBmYS1sZ1xcXCI+PC9pPjwvcD5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibWQtMTAgY29sdW1uXFxcIj5cXG4gICAgICAgICAgICAgICAgPHA+e3tzaG9ydERlc2NyaXB0aW9ufX08L3A+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvbGk+XFxuICAgIDwvc2NyaXB0PlxcblxcbiAgICA8c2NyaXB0IGlkPVxcXCJkcmFmdFRleHRUZW1wbGF0ZVxcXCIgdHlwZT1cXFwidGV4dC9odG1sXFxcIj5cXG4gICAgICAgIDxhIGNsYXNzPVxcXCJtZW51LWJ1dHRvblxcXCIgZGF0YS1hY3Rpb249XFxcImNvZGUucmVzZXRcXFwiIHRpdGxlPVxcXCJSZXNldFxcXCI+PGkgY2xhc3M9XFxcImZhIGZhLXJlZnJlc2hcXFwiPjwvaT48L2E+IHt7ZHJhZnRUZXh0fX1cXG4gICAgPC9zY3JpcHQ+XFxuXFxuICAgIDxzY3JpcHQgaWQ9XFxcImFkZEluc3RydWN0aW9uc1RlbXBsYXRlXFxcIiB0eXBlPVxcXCJ0ZXh0L2h0bWxcXFwiPlxcbiAgICAgICAgPHA+Q2xpY2sgdGhlIHBlbmNpbCBpY29uIHRvIGFkZCBpbnN0cnVjdGlvbnMgdG8geW91ciBnYWRnZXQuIFdoZW4gYW55b25lIGVsc2Ugdmlld3MgdGhpcyBnYWRnZXQsIHRoZXknbGwgYWxzbyBiZSBhYmxlIHRvIHZpZXcgdGhlbS48L3A+XFxuICAgIDwvc2NyaXB0PlxcblxcbiAgICA8c2NyaXB0IGlkPVxcXCJlZGl0SW5zdHJ1Y3Rpb25zVGVtcGxhdGVcXFwiIHR5cGU9XFxcInRleHQvaHRtbFxcXCI+XFxuICAgICAgICA8ZGl2IGlkPVxcXCJlbWJlZGRlZC1pbnN0cnVjdGlvbnNcXFwiPjwvZGl2PlxcbiAgICA8L3NjcmlwdD5cXG5cXG4gICAgPCEtLVtpZiBJRV0+XFxuICAgIDxzY3JpcHQgc3JjPVxcXCIvY2FjaGUtcHJlZml4LTE1MjgyNDUxOTU4MTJkaXN0L2pzemlwLXV0aWxzLWllLm1pbi5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG4gICAgPCFbZW5kaWZdLS0+XFxuICBcXG4gICAgPHNjcmlwdCBzcmM9J2xpYnMvZmlsZS1zYXZlci5qcy8xLjIwMTUwNTA3LjIvRmlsZVNhdmVyLmpzJz48L3NjcmlwdD5cXG4gICAgPHNjcmlwdCBzcmM9J2xpYnMvbG9kYXNoLzIuNC4xL2Rpc3QvbG9kYXNoLm1pbi5qcyc+PC9zY3JpcHQ+XFxuICAgIDxzY3JpcHQgc3JjPSdsaWJzL2JsdWViaXJkLzMuNS4xL2pzL2Jyb3dzZXIvYmx1ZWJpcmQubWluLmpzJz48L3NjcmlwdD5cXG4gICAgPHNjcmlwdCBzcmM9XFxcImxpYnMvbW9tZW50LmpzLzIuMTguMS9tb21lbnQubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcbiAgICA8c2NyaXB0IHNyYz0nbGlicy9hY2UtYnVpbGRzL3YxLjIuNi4xcmMyL3NyYy1taW4tbm9jb25mbGljdC9hY2UuanMnPjwvc2NyaXB0PlxcbiAgICA8c2NyaXB0IHNyYz0nbGlicy9hY2UtYnVpbGRzL3YxLjIuNi4xcmMyL3NyYy1taW4tbm9jb25mbGljdC9leHQtbW9kZWxpc3QuanMnPjwvc2NyaXB0PlxcbiAgICA8c2NyaXB0IHNyYz0nbGlicy9hY2UtYnVpbGRzL3YxLjIuNi4xcmMyL3NyYy1taW4tbm9jb25mbGljdC9leHQtbGFuZ3VhZ2VfdG9vbHMuanMnPjwvc2NyaXB0PlxcbiAgICA8c2NyaXB0IHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCIgc3JjPVxcXCJsaWJzL3NrdWxwdC9za3VscHQubWluLmpzXFxcIj48L3NjcmlwdD5cXG4gICAgPHNjcmlwdCB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiIHNyYz1cXFwibGlicy9za3VscHQvc2t1bHB0LXN0ZGxpYi5qc1xcXCI+PC9zY3JpcHQ+XFxuICAgIDxzY3JpcHQgc3JjPVxcXCJsaWJzL21hcmtlZC9saWIvbWFya2VkLmpzXFxcIj48L3NjcmlwdD5cXG4gICAgPHNjcmlwdCBzcmM9XFxcImxpYnMvdHJhcWJhbGwuanMvc3JjL3RyYXFiYWxsLmpzXFxcIj48L3NjcmlwdD5cXG4gICAgPHNjcmlwdCBzcmM9XFxcImxpYnMvanF1ZXJ5LzMuMy4xL2pxdWVyeS5taW4uanNcXFwiPjwvc2NyaXB0PlxcbiAgICA8c2NyaXB0IHNyYz1cXFwibGlicy9qcXVlcnl1aS8xLjEyLjEvanF1ZXJ5LXVpLm1pbi5qc1xcXCI+PC9zY3JpcHQ+XFxuICAgIDxzY3JpcHQgc3JjPVxcXCJsaWJzL2hpZ2hsaWdodC5qcy84LjAvaGlnaGxpZ2h0Lm1pbi5qc1xcXCI+PC9zY3JpcHQ+XFxuICAgIDxzY3JpcHQgc3JjPVxcXCJqcy9tYXJrZG93bi5qc1xcXCI+PC9zY3JpcHQ+XFxuICAgIDxzY3JpcHQgc3JjPVxcXCJqcy9nYWRnZXQuanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuICAgIDxzY3JpcHQgc3JjPVxcXCJqcy9jb25maWd1cmUuanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuPC9ib2R5PlxcbjwvaHRtbD5cXG5cIjsiXSwic291cmNlUm9vdCI6IiJ9